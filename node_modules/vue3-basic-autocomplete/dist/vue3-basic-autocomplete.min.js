var Vue3BasicAutocomplete=function(e){"use strict";function t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function n(e){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{};n%2?t(Object(o),!0).forEach((function(t){r(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):t(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,l=[],i=!0,a=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(l.push(r.value),!t||l.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(a)throw o}}return l}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var i={props:{modelValue:{default:""},options:{type:Array,required:!0},trackby:{type:String,default:""},minlength:{type:Number,default:1},"none-find":{type:String,default:"No matching results"},"input-class":{type:String,default:""},placeholder:{type:String,default:""},disabled:{type:Boolean,default:!1},"list-max-height":{type:String,default:"300"},"clear-btn":{type:Boolean,default:!1}},emits:["update:modelValue","selected"],setup:function(t,r){var o=r.emit,l=e.ref(null),i=e.reactive({highlight:-1,filteredItems:!1}),a=function(){var e,n=new RegExp(l.value.value.split("").join("\\w*").replace(/\W/,""),"i");e=""!=t.trackby?t.options.filter((function(e){if(e[t.trackby].match(n))return e})):t.options.filter((function(e){if(e.match(n))return e})),i.filteredItems=e},u=function(e){i.highlight=-1,i.filteredItems=!1,o("update:modelValue",e),o("selected",i)},c=function(){0!=i.filteredItems&&i.filteredItems.length>0&&u(i.filteredItems[i.highlight])},s=function(){0!=i.filteredItems&&i.highlight>0&&--i.highlight},d=function(){var e=i.highlight,t=parseInt(i.filteredItems.length);0!=i.filteredItems&&e<t&&i.highlight++};return n(n({inputAutocomplete:l},e.toRefs(i)),{},{updateData:function(){var e,n=l.value.value;(o("update:modelValue",n),0!=n.length||0!=t.minlength)?n.length>=t.minlength?0==(e=""!=t.trackby?t.options.filter((function(e){return e[t.trackby]==n})):t.options.filter((function(e){return e==n}))).length?a():u(e[0]):i.filteredItems=!1:i.filteredItems=t.options},filterItems:a,onBlur:function(){0===(""!=t.trackby?t.options.filter((function(e){return e[t.trackby]==l.value.value})):t.options.filter((function(e){return e==l.value.value}))).length&&(l.value.value="",i.filteredItems=!1,o("update:modelValue",""))},sendValue:u,clear:function(){l.value.value="",i.filteredItems=!1,o("update:modelValue","")},dropSelection:function(e){38==e.keyCode&&s(),40==e.keyCode&&d(),13==e.keyCode&&c()},enterClick:c})}},a={class:"autocomplete"},u=["value","placeholder","disabled"],c={key:1,class:"autocomplete-list"},s=["onMousedown","onMouseenter"],d={key:0},p={key:1},f={key:1},m={class:"text-muted"};!function(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===n&&r.firstChild?r.insertBefore(o,r.firstChild):r.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}("\n.autocomplete {\r\n  position: relative;\n}\n.autocomplete-input {\r\n  overflow: hidden;\r\n  width: 100%;\r\n  position: relative;\r\n  box-sizing: border-box;\n}\n.close-mark {\r\n  color: #808080ad;\r\n  position: absolute;\r\n  right: 2px;\r\n  top: 8px;\r\n  padding: 0 8px;\r\n  font-style: normal;\r\n  user-select: none;\r\n  cursor: pointer;\n}\n.close-mark:hover {\r\n  color: #9e9c9cad;\n}\n.autocomplete-list {\r\n  z-index: 9999;\r\n  position: absolute;\r\n  top: 100%;\r\n  left: 0;\r\n  right: 0;\r\n  border: 1px solid #ced4da;\r\n  border-top: none;\r\n  background-color: white;\n}\n.autocomplete-list ul {\r\n  overflow: auto;\r\n  list-style-type: none;\r\n  margin: 0;\r\n  padding: 0;\n}\n.autocomplete-list ul li {\r\n  padding: 6px;\r\n  cursor: default;\r\n  font-size: 0.92rem;\r\n  display: list-item;\r\n  text-align: left;\n}\n.highlight-class {\r\n  background-color: #efefef;\r\n  font-weight: bold;\n}\n.text-muted {\r\n  color: #6c757d !important;\n}\r\n"),i.render=function(t,n,r,o,l,i){return e.openBlock(),e.createElementBlock("div",a,[e.createElementVNode("input",{class:e.normalizeClass(["autocomplete-input",t.inputClass]),ref:"inputAutocomplete",value:"string"!=typeof r.modelValue&&r.modelValue?r.modelValue[r.trackby]:r.modelValue,onInput:n[0]||(n[0]=function(e){return o.updateData()}),onPaste:n[1]||(n[1]=function(e){return o.updateData()}),onKeydown:n[2]||(n[2]=function(e){return o.dropSelection(e)}),onBlur:n[3]||(n[3]=function(e){return o.onBlur()}),placeholder:r.placeholder,disabled:r.disabled},null,42,u),t.clearBtn?(e.openBlock(),e.createElementBlock("span",{key:0,class:"close-mark",onClick:n[4]||(n[4]=function(){return o.clear&&o.clear.apply(o,arguments)})},"âœ–")):e.createCommentVNode("",!0),t.filteredItems?(e.openBlock(),e.createElementBlock("div",c,[t.filteredItems.length>0?(e.openBlock(),e.createElementBlock("ul",{key:0,style:e.normalizeStyle("max-height: ".concat(t.listMaxHeight,"px"))},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.filteredItems,(function(l,i){return e.openBlock(),e.createElementBlock("li",{key:i,class:e.normalizeClass(t.highlight==i?"highlight-class":""),onMousedown:function(e){return o.sendValue(l)},onMouseenter:function(e){return t.highlight=i},onMouseleave:n[5]||(n[5]=function(e){return t.highlight=-1})},[""!=r.trackby?(e.openBlock(),e.createElementBlock("span",d,e.toDisplayString(l[r.trackby]),1)):e.createCommentVNode("",!0),""==r.trackby?(e.openBlock(),e.createElementBlock("span",p,e.toDisplayString(l),1)):e.createCommentVNode("",!0)],42,s)})),128))],4)):e.createCommentVNode("",!0),0===t.filteredItems.length?(e.openBlock(),e.createElementBlock("ul",f,[e.createElementVNode("li",m,e.toDisplayString(t.noneFind),1)])):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0)])};var h=function(){var e=i;return e.install=function(t){t.component("Vue3BasicAutocomplete",e)},e}(),y=Object.freeze({__proto__:null,default:h});return Object.entries(y).forEach((function(e){var t=o(e,2),n=t[0],r=t[1];"default"!==n&&(h[n]=r)})),h}(Vue);