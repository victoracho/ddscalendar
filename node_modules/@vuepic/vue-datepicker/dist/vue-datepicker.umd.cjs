(function(e,s){typeof exports=="object"&&typeof module<"u"?module.exports=s(require("vue"),require("date-fns")):typeof define=="function"&&define.amd?define(["vue","date-fns"],s):(e=typeof globalThis<"u"?globalThis:e||self,e.VueDatePicker=s(e.Vue,e.dateFns))})(this,function(e,s){"use strict";function We(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M29.333 8c0-2.208-1.792-4-4-4h-18.667c-2.208 0-4 1.792-4 4v18.667c0 2.208 1.792 4 4 4h18.667c2.208 0 4-1.792 4-4v-18.667zM26.667 8v18.667c0 0.736-0.597 1.333-1.333 1.333 0 0-18.667 0-18.667 0-0.736 0-1.333-0.597-1.333-1.333 0 0 0-18.667 0-18.667 0-0.736 0.597-1.333 1.333-1.333 0 0 18.667 0 18.667 0 0.736 0 1.333 0.597 1.333 1.333z"}),e.createElementVNode("path",{d:"M20 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),e.createElementVNode("path",{d:"M9.333 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),e.createElementVNode("path",{d:"M4 14.667h24c0.736 0 1.333-0.597 1.333-1.333s-0.597-1.333-1.333-1.333h-24c-0.736 0-1.333 0.597-1.333 1.333s0.597 1.333 1.333 1.333z"})])}We.compatConfig={MODE:3};function Jt(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M23.057 7.057l-16 16c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l16-16c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0z"}),e.createElementVNode("path",{d:"M7.057 8.943l16 16c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885l-16-16c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}Jt.compatConfig={MODE:3};function yt(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M20.943 23.057l-7.057-7.057c0 0 7.057-7.057 7.057-7.057 0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-8 8c-0.521 0.521-0.521 1.365 0 1.885l8 8c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}yt.compatConfig={MODE:3};function ht(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M12.943 24.943l8-8c0.521-0.521 0.521-1.365 0-1.885l-8-8c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885l7.057 7.057c0 0-7.057 7.057-7.057 7.057-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0z"})])}ht.compatConfig={MODE:3};function kt(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M16 1.333c-8.095 0-14.667 6.572-14.667 14.667s6.572 14.667 14.667 14.667c8.095 0 14.667-6.572 14.667-14.667s-6.572-14.667-14.667-14.667zM16 4c6.623 0 12 5.377 12 12s-5.377 12-12 12c-6.623 0-12-5.377-12-12s5.377-12 12-12z"}),e.createElementVNode("path",{d:"M14.667 8v8c0 0.505 0.285 0.967 0.737 1.193l5.333 2.667c0.658 0.329 1.46 0.062 1.789-0.596s0.062-1.46-0.596-1.789l-4.596-2.298c0 0 0-7.176 0-7.176 0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"})])}kt.compatConfig={MODE:3};function bt(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M24.943 19.057l-8-8c-0.521-0.521-1.365-0.521-1.885 0l-8 8c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l7.057-7.057c0 0 7.057 7.057 7.057 7.057 0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}bt.compatConfig={MODE:3};function wt(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M7.057 12.943l8 8c0.521 0.521 1.365 0.521 1.885 0l8-8c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-7.057 7.057c0 0-7.057-7.057-7.057-7.057-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}wt.compatConfig={MODE:3};const Ae=(t,n)=>n?new Date(t.toLocaleString("en-US",{timeZone:n})):new Date(t),Zt=(t,n)=>{const o=vt(t,n);return o||j()},Tn=(t,n)=>n.dateInTz?Ae(new Date(t),n.dateInTz):j(t),vt=(t,n)=>{if(!t)return null;if(!n)return j(t);const o=j(t);return n.exactMatch?Tn(t,n):Ae(o,n.timezone)},An=t=>{if(!t)return 0;const n=new Date,o=new Date(n.toLocaleString("en-US",{timeZone:"UTC"})),r=new Date(n.toLocaleString("en-US",{timeZone:t})),a=r.getTimezoneOffset()/60;return(+o-+r)/(1e3*60*60)-a};function Ft(t){return n=>new Intl.DateTimeFormat(t,{weekday:"short",timeZone:"UTC"}).format(new Date(`2017-01-0${n}T00:00:00+00:00`)).slice(0,2)}function Pn(t){return n=>s.format(new Date(`2017-01-0${n}T00:00:00+00:00`),"EEEEEE",{locale:t})}const Rn=(t,n,o)=>{const r=[1,2,3,4,5,6,7];let a;if(t!==null)try{a=r.map(Pn(t))}catch{a=r.map(Ft(n))}else a=r.map(Ft(n));const m=a.slice(0,o),p=a.slice(o+1,a.length);return[a[o]].concat(...p).concat(...m)},Mt=(t,n,o)=>{const r=[];for(let a=+t[0];a<=+t[1];a++)r.push({value:+a,text:ln(a,n)});return o?r.reverse():r},en=(t,n,o)=>{const r=[1,2,3,4,5,6,7,8,9,10,11,12].map(m=>{const p=m<10?`0${m}`:m;return new Date(`2017-${p}-01T00:00:00+00:00`)});if(t!==null)try{const m=o==="long"?"MMMM":"MMM";return r.map((p,i)=>{const N=s.format(Ae(p,"UTC"),m,{locale:t});return{text:N.charAt(0).toUpperCase()+N.substring(1),value:i}})}catch{}const a=new Intl.DateTimeFormat(n,{month:o,timeZone:"UTC"});return r.map((m,p)=>{const i=a.format(m);return{text:i.charAt(0).toUpperCase()+i.substring(1),value:p}})},Nn=t=>[12,1,2,3,4,5,6,7,8,9,10,11,12,1,2,3,4,5,6,7,8,9,10,11][t],ke=t=>{const n=e.unref(t);return n!=null&&n.$el?n==null?void 0:n.$el:n},En=t=>({type:"dot",...t??{}}),tn=t=>Array.isArray(t)?!!t[0]&&!!t[1]:!1,St={prop:t=>`"${t}" prop must be enabled!`,dateArr:t=>`You need to use array as "model-value" binding in order to support "${t}"`},he=t=>t,nn=t=>t===0?t:!t||isNaN(+t)?null:+t,an=t=>t===null,rn=t=>{if(t)return[...t.querySelectorAll("input, button, select, textarea, a[href]")][0]},_n=t=>{const n=[],o=r=>r.filter(a=>a);for(let r=0;r<t.length;r+=3){const a=[t[r],t[r+1],t[r+2]];n.push(o(a))}return n},Qe=(t,n,o)=>{const r=o!=null,a=n!=null;if(!r&&!a)return!1;const m=+o,p=+n;return r&&a?+t>m||+t<p:r?+t>m:a?+t<p:!1},Ue=(t,n)=>_n(t).map(o=>o.map(r=>{const{active:a,disabled:m,isBetween:p,highlighted:i}=n(r);return{...r,active:a,disabled:m,className:{dp__overlay_cell_active:a,dp__overlay_cell:!a,dp__overlay_cell_disabled:m,dp__overlay_cell_pad:!0,dp__overlay_cell_active_disabled:m&&a,dp__cell_in_between:p,"dp--highlighted":i}}})),Ee=(t,n,o=!1)=>{t&&n.allowStopPropagation&&(o&&t.stopImmediatePropagation(),t.stopPropagation())},Vn=()=>["a[href]","area[href]","input:not([disabled]):not([type='hidden'])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","[tabindex]:not([tabindex='-1'])","[data-datepicker-instance]"].join(", ");function Yn(t,n){let o=[...document.querySelectorAll(Vn())];o=o.filter(a=>!t.contains(a)||a.hasAttribute("data-datepicker-instance"));const r=o.indexOf(t);if(r>=0&&(n?r-1>=0:r+1<=o.length))return o[r+(n?-1:1)]}const On=(t,n)=>t==null?void 0:t.querySelector(`[data-dp-element="${n}"]`),ln=(t,n)=>new Intl.NumberFormat(n,{useGrouping:!1,style:"decimal"}).format(t),Dt=t=>s.format(t,"dd-MM-yyyy"),Ct=t=>Array.isArray(t),rt=(t,n)=>n.get(Dt(t)),In=(t,n)=>t?n?n instanceof Map?!!rt(t,n):n(j(t)):!1:!0,on=(t,n,o,r,a,m)=>{const p=s.parse(t,n.slice(0,t.length),new Date,{locale:m});return s.isValid(p)&&s.isDate(p)?r||a?p:s.set(p,{hours:+o.hours,minutes:+(o==null?void 0:o.minutes),seconds:+(o==null?void 0:o.seconds),milliseconds:0}):null},zn=(t,n,o,r,a,m)=>{const p=Array.isArray(o)?o[0]:o;if(typeof n=="string")return on(t,n,p,r,a,m);if(Array.isArray(n)){let i=null;for(const N of n)if(i=on(t,N,p,r,a,m),i)break;return i}return typeof n=="function"?n(t):null},j=t=>t?new Date(t):new Date,Ln=(t,n,o)=>{if(n){const a=(t.getMonth()+1).toString().padStart(2,"0"),m=t.getDate().toString().padStart(2,"0"),p=t.getHours().toString().padStart(2,"0"),i=t.getMinutes().toString().padStart(2,"0"),N=o?t.getSeconds().toString().padStart(2,"0"):"00";return`${t.getFullYear()}-${a}-${m}T${p}:${i}:${N}.000Z`}const r=Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds());return new Date(r).toISOString()},ve=t=>{let n=j(JSON.parse(JSON.stringify(t)));return n=s.setHours(n,0),n=s.setMinutes(n,0),n=s.setSeconds(n,0),n=s.setMilliseconds(n,0),n},_e=(t,n,o,r)=>{let a=t?j(t):j();return(n||n===0)&&(a=s.setHours(a,+n)),(o||o===0)&&(a=s.setMinutes(a,+o)),(r||r===0)&&(a=s.setSeconds(a,+r)),s.setMilliseconds(a,0)},pe=(t,n)=>!t||!n?!1:s.isBefore(ve(t),ve(n)),ue=(t,n)=>!t||!n?!1:s.isEqual(ve(t),ve(n)),ge=(t,n)=>!t||!n?!1:s.isAfter(ve(t),ve(n)),lt=(t,n,o)=>t!=null&&t[0]&&(t!=null&&t[1])?ge(o,t[0])&&pe(o,t[1]):t!=null&&t[0]&&n?ge(o,t[0])&&pe(o,n)||pe(o,t[0])&&ge(o,n):!1,Be=t=>{const n=s.set(new Date(t),{date:1});return ve(n)},Bt=(t,n,o)=>n&&(o||o===0)?Object.fromEntries(["hours","minutes","seconds"].map(r=>r===n?[r,o]:[r,isNaN(+t[r])?void 0:+t[r]])):{hours:isNaN(+t.hours)?void 0:+t.hours,minutes:isNaN(+t.minutes)?void 0:+t.minutes,seconds:isNaN(+t.seconds)?void 0:+t.seconds},ze=t=>({hours:s.getHours(t),minutes:s.getMinutes(t),seconds:s.getSeconds(t)}),sn=(t,n)=>{if(n){const o=s.getYear(j(n));if(o>t)return 12;if(o===t)return s.getMonth(j(n))}},un=(t,n)=>{if(n){const o=s.getYear(j(n));return o<t?-1:o===t?s.getMonth(j(n)):void 0}},je=t=>{if(t)return s.getYear(j(t))},cn=(t,n)=>{const o=ge(t,n)?n:t,r=ge(n,t)?n:t;return s.eachDayOfInterval({start:o,end:r})},Kn=t=>{const n=s.addMonths(t,1);return{month:s.getMonth(n),year:s.getYear(n)}},Re=(t,n)=>{const o=s.startOfWeek(t,{weekStartsOn:+n}),r=s.endOfWeek(t,{weekStartsOn:+n});return[o,r]},dn=(t,n)=>{const o={hours:s.getHours(j()),minutes:s.getMinutes(j()),seconds:n?s.getSeconds(j()):0};return Object.assign(o,t)},Ve=(t,n,o)=>[s.set(j(t),{date:1}),s.set(j(),{month:n,year:o,date:1})],Ne=(t,n,o)=>{let r=t?j(t):j();return(n||n===0)&&(r=s.setMonth(r,n)),o&&(r=s.setYear(r,o)),r},fn=(t,n,o,r,a)=>{if(!r||a&&!n||!a&&!o)return!1;const m=a?s.addMonths(t,1):s.subMonths(t,1),p=[s.getMonth(m),s.getYear(m)];return a?!Wn(...p,n):!Hn(...p,o)},Hn=(t,n,o)=>pe(...Ve(o,t,n))||ue(...Ve(o,t,n)),Wn=(t,n,o)=>ge(...Ve(o,t,n))||ue(...Ve(o,t,n)),mn=(t,n,o,r,a,m,p)=>{if(typeof n=="function"&&!p)return n(t);const i=o?{locale:o}:void 0;return Array.isArray(t)?`${s.format(t[0],m,i)}${a&&!t[1]?"":r}${t[1]?s.format(t[1],m,i):""}`:s.format(t,m,i)},xe=t=>{if(t)return null;throw new Error(St.prop("partial-range"))},ot=(t,n)=>{if(n)return t();throw new Error(St.prop("range"))},$t=t=>Array.isArray(t)?s.isValid(t[0])&&(t[1]?s.isValid(t[1]):!0):t?s.isValid(t):!1,Un=(t,n)=>s.set(n??j(),{hours:+t.hours||0,minutes:+t.minutes||0,seconds:+t.seconds||0}),Tt=(t,n,o,r)=>{if(!t)return!0;if(r){const a=o==="max"?s.isBefore(t,n):s.isAfter(t,n),m={seconds:0,milliseconds:0};return a||s.isEqual(s.set(t,m),s.set(n,m))}return o==="max"?t.getTime()<=n.getTime():t.getTime()>=n.getTime()},At=(t,n,o)=>t?Un(t,n):j(o??n),pn=(t,n,o,r,a)=>{if(Array.isArray(r)){const p=At(t,r[0],n),i=At(t,r[1],n);return Tt(r[0],p,o,!!n)&&Tt(r[1],i,o,!!n)&&a}const m=At(t,r,n);return Tt(r,m,o,!!n)&&a},Pt=t=>s.set(j(),ze(t)),jn=(t,n)=>t instanceof Map?Array.from(t.values()).filter(o=>s.getYear(j(o))===n).map(o=>s.getMonth(o)):[],gn=(t,n,o)=>typeof t=="function"?t({month:n,year:o}):!!t.months.find(r=>r.month===n&&r.year===o),Rt=(t,n)=>typeof t=="function"?t(n):t.years.includes(n),Ge=e.reactive({menuFocused:!1,shiftKeyInMenu:!1}),yn=()=>{const t=r=>{Ge.menuFocused=r},n=r=>{Ge.shiftKeyInMenu!==r&&(Ge.shiftKeyInMenu=r)};return{control:e.computed(()=>({shiftKeyInMenu:Ge.shiftKeyInMenu,menuFocused:Ge.menuFocused})),setMenuFocused:t,setShiftKey:n}},de=e.reactive({monthYear:[],calendar:[],time:[],actionRow:[],selectionGrid:[],timePicker:{0:[],1:[]},monthPicker:[]}),Nt=e.ref(null),st=e.ref(!1),Et=e.ref(!1),_t=e.ref(!1),Vt=e.ref(!1),be=e.ref(0),ye=e.ref(0),Ye=()=>{const t=e.computed(()=>st.value?[...de.selectionGrid,de.actionRow].filter(P=>P.length):Et.value?[...de.timePicker[0],...de.timePicker[1],Vt.value?[]:[Nt.value],de.actionRow].filter(P=>P.length):_t.value?[...de.monthPicker,de.actionRow]:[de.monthYear,...de.calendar,de.time,de.actionRow].filter(P=>P.length)),n=P=>{be.value=P?be.value+1:be.value-1;let z=null;t.value[ye.value]&&(z=t.value[ye.value][be.value]),!z&&t.value[ye.value+(P?1:-1)]?(ye.value=ye.value+(P?1:-1),be.value=P?0:t.value[ye.value].length-1):z||(be.value=P?be.value-1:be.value+1)},o=P=>{if(ye.value===0&&!P||ye.value===t.value.length&&P)return;ye.value=P?ye.value+1:ye.value-1,t.value[ye.value]?t.value[ye.value]&&!t.value[ye.value][be.value]&&be.value!==0&&(be.value=t.value[ye.value].length-1):ye.value=P?ye.value-1:ye.value+1},r=P=>{let z=null;t.value[ye.value]&&(z=t.value[ye.value][be.value]),z?z.focus({preventScroll:!st.value}):be.value=P?be.value-1:be.value+1},a=()=>{n(!0),r(!0)},m=()=>{n(!1),r(!1)},p=()=>{o(!1),r(!0)},i=()=>{o(!0),r(!0)},N=(P,z)=>{de[z]=P},E=(P,z)=>{de[z]=P},k=()=>{be.value=0,ye.value=0};return{buildMatrix:N,buildMultiLevelMatrix:E,setTimePickerBackRef:P=>{Nt.value=P},setSelectionGrid:P=>{st.value=P,k(),P||(de.selectionGrid=[])},setTimePicker:(P,z=!1)=>{Et.value=P,Vt.value=z,k(),P||(de.timePicker[0]=[],de.timePicker[1]=[])},setTimePickerElements:(P,z=0)=>{de.timePicker[z]=P},arrowRight:a,arrowLeft:m,arrowUp:p,arrowDown:i,clearArrowNav:()=>{de.monthYear=[],de.calendar=[],de.time=[],de.actionRow=[],de.selectionGrid=[],de.timePicker[0]=[],de.timePicker[1]=[],st.value=!1,Et.value=!1,Vt.value=!1,_t.value=!1,k(),Nt.value=null},setMonthPicker:P=>{_t.value=P,k()},refSets:de}},hn=t=>({menuAppearTop:"dp-menu-appear-top",menuAppearBottom:"dp-menu-appear-bottom",open:"dp-slide-down",close:"dp-slide-up",next:"calendar-next",previous:"calendar-prev",vNext:"dp-slide-up",vPrevious:"dp-slide-down",...t??{}}),xn=t=>({toggleOverlay:"Toggle overlay",menu:"Datepicker menu",input:"Datepicker input",calendarWrap:"Calendar wrapper",calendarDays:"Calendar days",openTimePicker:"Open time picker",closeTimePicker:"Close time Picker",incrementValue:n=>`Increment ${n}`,decrementValue:n=>`Decrement ${n}`,openTpOverlay:n=>`Open ${n} overlay`,amPmButton:"Switch AM/PM mode",openYearsOverlay:"Open years overlay",openMonthsOverlay:"Open months overlay",nextMonth:"Next month",prevMonth:"Previous month",nextYear:"Next year",prevYear:"Previous year",day:void 0,weekDay:void 0,...t??{}}),kn=t=>t?typeof t=="boolean"?t?2:0:+t>=2?+t:2:0,qn=t=>{const n=typeof t=="object"&&t,o={static:!0,solo:!1};if(!t)return{...o,count:kn(!1)};const r=n?t:{},a=n?r.count??!0:t,m=kn(a);return Object.assign(o,r,{count:m})},Qn=(t,n,o)=>t||(typeof o=="string"?o:n),Gn=t=>typeof t=="boolean"?t?hn({}):!1:hn(t),Xn=t=>{const n={enterSubmit:!0,tabSubmit:!0,openMenu:!0,selectOnFocus:!1,rangeSeparator:" - "};return typeof t=="object"?{...n,...t??{},enabled:!0}:{...n,enabled:t}},Jn=t=>({months:[],years:[],times:{hours:[],minutes:[],seconds:[]},...t??{}}),Zn=t=>({showSelect:!0,showCancel:!0,showNow:!1,showPreview:!0,...t??{}}),Fn=t=>{const n={input:!1};return typeof t=="object"?{...n,...t??{},enabled:!0}:{enabled:t,...n}},ea=t=>({...{allowStopPropagation:!0,closeOnScroll:!1,modeHeight:255,allowPreventDefault:!1,closeOnClearValue:!0,closeOnAutoApply:!0,noSwipe:!1,keepActionRow:!1,onClickOutside:void 0,tabOutClosesMenu:!0,arrowLeft:void 0,keepViewOnOffsetClick:!1},...t??{}}),ta=t=>{const n={dates:Array.isArray(t)?t.map(o=>j(o)):[],years:[],months:[],quarters:[],weeks:[],weekdays:[],options:{highlightDisabled:!1}};return typeof t=="function"?t:{...n,...t??{}}},na=t=>typeof t=="object"?{type:(t==null?void 0:t.type)??"local",hideOnOffsetDates:(t==null?void 0:t.hideOnOffsetDates)??!1}:{type:t,hideOnOffsetDates:!1},aa=(t,n)=>{const o={noDisabledRange:!1,showLastInRange:!0,minMaxRawRange:!1,partialRange:!0,disableTimeRangeValidation:!1,maxRange:void 0,minRange:void 0,autoRange:void 0,fixedStart:!1,fixedEnd:!1};return typeof t=="object"?{enabled:!0,...o,...t}:{enabled:t,noDisabledRange:n.noDisabledRange,showLastInRange:n.showLastInRange,minMaxRawRange:n.minMaxRawRange,partialRange:n.partialRange,disableTimeRangeValidation:n.disableTimeRangeValidation,maxRange:n.maxRange,minRange:n.minRange,autoRange:n.autoRange,fixedStart:n.fixedStart,fixedEnd:n.fixedEnd}},ra=(t,n)=>t?typeof t=="string"?{timezone:t,exactMatch:!1,dateInTz:void 0,emitTimezone:n,convertModel:!0}:{timezone:t.timezone,exactMatch:t.exactMatch??!1,dateInTz:t.dateInTz??void 0,emitTimezone:n??t.emitTimezone,convertModel:t.convertModel??!0}:{timezone:void 0,exactMatch:!1,emitTimezone:n},Yt=(t,n)=>new Map(t.map(o=>{const r=Zt(o,n);return[Dt(r),r]})),la=(t,n)=>t.length?new Map(t.map(o=>{const r=Zt(o.date,n);return[Dt(r),o]})):null,oa=(t,n,o,r,a,m,p)=>({minDate:vt(t,p),maxDate:vt(n,p),disabledDates:Ct(o)?Yt(o,p):o,allowedDates:Ct(r)?Yt(r,p):null,highlight:typeof a=="object"&&Ct(a==null?void 0:a.dates)?Yt(a.dates,p):a,markers:la(m,p)}),sa=(t,n)=>typeof t=="boolean"?{enabled:t,dragSelect:!0,limit:+n}:{enabled:!!t,limit:t.limit?+t.limit:null,dragSelect:t.dragSelect??!0},me=t=>{const n=()=>{const W=t.enableSeconds?":ss":"",I=t.enableMinutes?":mm":"";return t.is24?`HH${I}${W}`:`hh${I}${W} aa`},o=()=>{var W;return t.format?t.format:t.monthPicker?"MM/yyyy":t.timePicker?n():t.weekPicker?`${((W=K.value)==null?void 0:W.type)==="iso"?"RR":"ww"}-yyyy`:t.yearPicker?"yyyy":t.quarterPicker?"QQQ/yyyy":t.enableTimePicker?`MM/dd/yyyy, ${n()}`:"MM/dd/yyyy"},r=W=>dn(W,t.enableSeconds),a=()=>_.value.enabled?t.startTime&&Array.isArray(t.startTime)?[r(t.startTime[0]),r(t.startTime[1])]:null:t.startTime&&!Array.isArray(t.startTime)?r(t.startTime):null,m=e.computed(()=>qn(t.multiCalendars)),p=e.computed(()=>a()),i=e.computed(()=>xn(t.ariaLabels)),N=e.computed(()=>Jn(t.filters)),E=e.computed(()=>Gn(t.transitions)),k=e.computed(()=>Zn(t.actionRow)),B=e.computed(()=>Qn(t.previewFormat,t.format,o())),w=e.computed(()=>Xn(t.textInput)),T=e.computed(()=>Fn(t.inline)),L=e.computed(()=>ea(t.config)),S=e.computed(()=>ta(t.highlight)),K=e.computed(()=>na(t.weekNumbers)),P=e.computed(()=>ra(t.timezone,t.emitTimezone)),z=e.computed(()=>sa(t.multiDates,t.multiDatesLimit)),Y=e.computed(()=>oa(t.minDate,t.maxDate,t.disabledDates,t.allowedDates,S.value,t.markers,P.value)),_=e.computed(()=>aa(t.range,{minMaxRawRange:!1,maxRange:t.maxRange,minRange:t.minRange,noDisabledRange:t.noDisabledRange,showLastInRange:t.showLastInRange,partialRange:t.partialRange,disableTimeRangeValidation:t.disableTimeRangeValidation,autoRange:t.autoRange,fixedStart:t.fixedStart,fixedEnd:t.fixedEnd}));return{defaultedTransitions:E,defaultedMultiCalendars:m,defaultedStartTime:p,defaultedAriaLabels:i,defaultedFilters:N,defaultedActionRow:k,defaultedPreviewFormat:B,defaultedTextInput:w,defaultedInline:T,defaultedConfig:L,defaultedHighlight:S,defaultedWeekNumbers:K,defaultedRange:_,propDates:Y,defaultedTz:P,defaultedMultiDates:z,getDefaultPattern:o,getDefaultStartTime:a}};var $e=(t=>(t.month="month",t.year="year",t))($e||{}),Le=(t=>(t.top="top",t.bottom="bottom",t))(Le||{}),Ke=(t=>(t.header="header",t.calendar="calendar",t.timePicker="timePicker",t))(Ke||{}),Pe=(t=>(t.month="month",t.year="year",t.calendar="calendar",t.time="time",t.minutes="minutes",t.hours="hours",t.seconds="seconds",t))(Pe||{});const ia=["timestamp","date","iso"],ua=(t,n,o)=>{const r=e.ref(),{defaultedTextInput:a,defaultedRange:m,defaultedTz:p,defaultedMultiDates:i,getDefaultPattern:N}=me(n),E=e.ref(""),k=e.toRef(n,"format"),B=e.toRef(n,"formatLocale");e.watch(r,()=>{typeof n.onInternalModelChange=="function"&&t("internal-model-change",r.value,A(!0))},{deep:!0}),e.watch(k,()=>{y()});const w=d=>p.value.timezone&&p.value.convertModel?Ae(d,p.value.timezone):d,T=d=>{if(p.value.timezone&&p.value.convertModel){const ee=An(p.value.timezone);return s.addHours(d,ee)}return d},L=(d,ee,l=!1)=>mn(d,n.format,n.formatLocale,a.value.rangeSeparator,n.modelAuto,ee??N(),l),S=d=>d?n.modelType?V(d):{hours:s.getHours(d),minutes:s.getMinutes(d),seconds:n.enableSeconds?s.getSeconds(d):0}:null,K=d=>n.modelType?V(d):{month:s.getMonth(d),year:s.getYear(d)},P=d=>Array.isArray(d)?i.value.enabled?d.map(ee=>z(ee,s.setYear(j(),ee))):ot(()=>[s.setYear(j(),d[0]),d[1]?s.setYear(j(),d[1]):xe(m.value.partialRange)],m.value.enabled):s.setYear(j(),+d),z=(d,ee)=>(typeof d=="string"||typeof d=="number")&&n.modelType?q(d):ee,Y=d=>Array.isArray(d)?[z(d[0],_e(null,+d[0].hours,+d[0].minutes,d[0].seconds)),z(d[1],_e(null,+d[1].hours,+d[1].minutes,d[1].seconds))]:z(d,_e(null,d.hours,d.minutes,d.seconds)),_=d=>{const ee=s.set(j(),{date:1});return Array.isArray(d)?i.value.enabled?d.map(l=>z(l,Ne(ee,+l.month,+l.year))):ot(()=>[z(d[0],Ne(ee,+d[0].month,+d[0].year)),z(d[1],d[1]?Ne(ee,+d[1].month,+d[1].year):xe(m.value.partialRange))],m.value.enabled):z(d,Ne(ee,+d.month,+d.year))},W=d=>{if(Array.isArray(d))return d.map(ee=>q(ee));throw new Error(St.dateArr("multi-dates"))},I=d=>{if(Array.isArray(d)&&m.value.enabled){const ee=d[0],l=d[1];return[j(Array.isArray(ee)?ee[0]:null),j(Array.isArray(l)?l[0]:null)]}return j(d[0])},G=d=>n.modelAuto?Array.isArray(d)?[q(d[0]),q(d[1])]:n.autoApply?[q(d)]:[q(d),null]:Array.isArray(d)?ot(()=>d[1]?[q(d[0]),d[1]?q(d[1]):xe(m.value.partialRange)]:[q(d[0])],m.value.enabled):q(d),b=()=>{Array.isArray(r.value)&&m.value.enabled&&r.value.length===1&&r.value.push(xe(m.value.partialRange))},re=()=>{const d=r.value;return[V(d[0]),d[1]?V(d[1]):xe(m.value.partialRange)]},ne=()=>r.value[1]?re():V(he(r.value[0])),te=()=>(r.value||[]).map(d=>V(d)),R=(d=!1)=>(d||b(),n.modelAuto?ne():i.value.enabled?te():Array.isArray(r.value)?ot(()=>re(),m.value.enabled):V(he(r.value))),H=d=>!d||Array.isArray(d)&&!d.length?null:n.timePicker?Y(he(d)):n.monthPicker?_(he(d)):n.yearPicker?P(he(d)):i.value.enabled?W(he(d)):n.weekPicker?I(he(d)):G(he(d)),J=d=>{const ee=H(d);$t(he(ee))?(r.value=he(ee),y()):(r.value=null,E.value="")},O=()=>{const d=ee=>s.format(ee,a.value.format);return`${d(r.value[0])} ${a.value.rangeSeparator} ${r.value[1]?d(r.value[1]):""}`},f=()=>o.value&&r.value?Array.isArray(r.value)?O():s.format(r.value,a.value.format):L(r.value),C=()=>r.value?i.value.enabled?r.value.map(d=>L(d)).join("; "):a.value.enabled&&typeof a.value.format=="string"?f():L(r.value):"",y=()=>{!n.format||typeof n.format=="string"||a.value.enabled&&typeof a.value.format=="string"?E.value=C():E.value=n.format(r.value)},q=d=>{if(n.utc){const ee=new Date(d);return n.utc==="preserve"?new Date(ee.getTime()+ee.getTimezoneOffset()*6e4):ee}return n.modelType?ia.includes(n.modelType)?w(new Date(d)):n.modelType==="format"&&(typeof n.format=="string"||!n.format)?w(s.parse(d,N(),new Date,{locale:B.value})):w(s.parse(d,n.modelType,new Date,{locale:B.value})):w(new Date(d))},V=d=>d?n.utc?Ln(d,n.utc==="preserve",n.enableSeconds):n.modelType?n.modelType==="timestamp"?+T(d):n.modelType==="iso"?T(d).toISOString():n.modelType==="format"&&(typeof n.format=="string"||!n.format)?L(T(d)):L(T(d),n.modelType,!0):T(d):"",g=(d,ee=!1,l=!1)=>{if(l)return d;if(t("update:model-value",d),p.value.emitTimezone&&ee){const $=Array.isArray(d)?d.map(X=>Ae(he(X),p.value.emitTimezone)):Ae(he(d),p.value.emitTimezone);t("update:model-timezone-value",$)}},U=d=>Array.isArray(r.value)?i.value.enabled?r.value.map(ee=>d(ee)):[d(r.value[0]),r.value[1]?d(r.value[1]):xe(m.value.partialRange)]:d(he(r.value)),F=()=>{if(Array.isArray(r.value)){const d=Re(r.value[0],n.weekStart),ee=r.value[1]?Re(r.value[1],n.weekStart):[];return[d.map(l=>j(l)),ee.map(l=>j(l))]}return Re(r.value,n.weekStart).map(d=>j(d))},c=(d,ee)=>g(he(U(d)),!1,ee),v=d=>{const ee=F();return d?ee:t("update:model-value",F())},A=(d=!1)=>(y(),n.monthPicker?c(K,d):n.timePicker?c(S,d):n.yearPicker?c(s.getYear,d):n.weekPicker?v(d):g(R(d),!0,d));return{inputValue:E,internalModelValue:r,checkBeforeEmit:()=>r.value?m.value.enabled?m.value.partialRange?r.value.length>=1:r.value.length===2:!!r.value:!1,parseExternalModelValue:J,formatInputValue:y,emitModelValue:A}},ca=(t,n)=>{const{defaultedFilters:o,propDates:r}=me(t),{validateMonthYearInRange:a}=Ie(t),m=(k,B)=>{let w=k;return o.value.months.includes(s.getMonth(w))?(w=B?s.addMonths(k,1):s.subMonths(k,1),m(w,B)):w},p=(k,B)=>{let w=k;return o.value.years.includes(s.getYear(w))?(w=B?s.addYears(k,1):s.subYears(k,1),p(w,B)):w},i=(k,B=!1)=>{const w=s.set(j(),{month:t.month,year:t.year});let T=k?s.addMonths(w,1):s.subMonths(w,1);t.disableYearSelect&&(T=s.setYear(T,t.year));let L=s.getMonth(T),S=s.getYear(T);o.value.months.includes(L)&&(T=m(T,k),L=s.getMonth(T),S=s.getYear(T)),o.value.years.includes(S)&&(T=p(T,k),S=s.getYear(T)),a(L,S,k,t.preventMinMaxNavigation)&&N(L,S,B)},N=(k,B,w)=>{n("update-month-year",{month:k,year:B,fromNav:w})},E=e.computed(()=>k=>fn(s.set(j(),{month:t.month,year:t.year}),r.value.maxDate,r.value.minDate,t.preventMinMaxNavigation,k));return{handleMonthYearChange:i,isDisabled:E,updateMonthYear:N}};var qe=(t=>(t.center="center",t.left="left",t.right="right",t))(qe||{});const da=({menuRef:t,menuRefInner:n,inputRef:o,pickerWrapperRef:r,inline:a,emit:m,props:p,slots:i})=>{const N=e.ref({}),E=e.ref(!1),k=e.ref({top:"0",left:"0"}),B=e.ref(!1),w=e.toRef(p,"teleportCenter");e.watch(w,()=>{k.value=JSON.parse(JSON.stringify({})),_()});const T=f=>{if(p.teleport){const C=f.getBoundingClientRect();return{left:C.left+window.scrollX,top:C.top+window.scrollY}}return{top:0,left:0}},L=(f,C)=>{k.value.left=`${f+C-N.value.width}px`},S=f=>{k.value.left=`${f}px`},K=(f,C)=>{p.position===qe.left&&S(f),p.position===qe.right&&L(f,C),p.position===qe.center&&(k.value.left=`${f+C/2-N.value.width/2}px`)},P=f=>{const{width:C,height:y}=f.getBoundingClientRect(),{top:q,left:V}=p.altPosition?p.altPosition(f):T(f);return{top:+q,left:+V,width:C,height:y}},z=()=>{k.value.left="50%",k.value.top="50%",k.value.transform="translate(-50%, -50%)",k.value.position="fixed",delete k.value.opacity},Y=()=>{const f=ke(o),{top:C,left:y,transform:q}=p.altPosition(f);k.value={top:`${C}px`,left:`${y}px`,transform:q??""}},_=(f=!0)=>{var C;if(!a.value.enabled){if(w.value)return z();if(p.altPosition!==null)return Y();if(f){const y=p.teleport?(C=n.value)==null?void 0:C.$el:t.value;y&&(N.value=y.getBoundingClientRect()),m("recalculate-position")}return te()}},W=({inputEl:f,left:C,width:y})=>{window.screen.width>768&&!E.value&&K(C,y),b(f)},I=f=>{const{top:C,left:y,height:q,width:V}=P(f);k.value.top=`${q+C+ +p.offset}px`,B.value=!1,E.value||(k.value.left=`${y+V/2-N.value.width/2}px`),W({inputEl:f,left:y,width:V})},G=f=>{const{top:C,left:y,width:q}=P(f);k.value.top=`${C-+p.offset-N.value.height}px`,B.value=!0,W({inputEl:f,left:y,width:q})},b=f=>{if(p.autoPosition){const{left:C,width:y}=P(f),{left:q,right:V}=N.value;if(!E.value){if(Math.abs(q)!==Math.abs(V)){if(q<=0)return E.value=!0,S(C);if(V>=document.documentElement.clientWidth)return E.value=!0,L(C,y)}return K(C,y)}}},re=()=>{const f=ke(o);if(f){const{height:C}=N.value,{top:y,height:q}=f.getBoundingClientRect(),g=window.innerHeight-y-q,U=y;return C<=g?Le.bottom:C>g&&C<=U?Le.top:g>=U?Le.bottom:Le.top}return Le.bottom},ne=f=>re()===Le.bottom?I(f):G(f),te=()=>{const f=ke(o);if(f)return p.autoPosition?ne(f):I(f)},R=function(f){if(f){const C=f.scrollHeight>f.clientHeight,q=window.getComputedStyle(f).overflowY.indexOf("hidden")!==-1;return C&&!q}return!0},H=function(f){return!f||f===document.body||f.nodeType===Node.DOCUMENT_FRAGMENT_NODE?window:R(f)?f:H(f.assignedSlot?f.assignedSlot.parentNode:f.parentNode)},J=f=>{if(f)switch(p.position){case qe.left:return{left:0,transform:"translateX(0)"};case qe.right:return{left:`${f.width}px`,transform:"translateX(-100%)"};default:return{left:`${f.width/2}px`,transform:"translateX(-50%)"}}return{}};return{openOnTop:B,menuStyle:k,xCorrect:E,setMenuPosition:_,getScrollableParent:H,shadowRender:(f,C)=>{var F,c,v;const y=document.createElement("div"),q=(F=ke(o))==null?void 0:F.getBoundingClientRect();y.setAttribute("id","dp--temp-container");const V=(c=r.value)!=null&&c.clientWidth?r.value:document.body;V.append(y);const g=J(q),U=e.h(f,{...C,shadow:!0,style:{opacity:0,position:"absolute",...g}},Object.fromEntries(Object.keys(i).filter(A=>["right-sidebar","left-sidebar","top-extra","action-extra"].includes(A)).map(A=>[A,i[A]])));e.render(U,y),N.value=(v=U.el)==null?void 0:v.getBoundingClientRect(),e.render(null,y),V.removeChild(y)}}},Oe=[{name:"clock-icon",use:["time","calendar","shared"]},{name:"arrow-left",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-right",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-up",use:["time","calendar","month-year","shared"]},{name:"arrow-down",use:["time","calendar","month-year","shared"]},{name:"calendar-icon",use:["month-year","time","calendar","shared","year-mode"]},{name:"day",use:["calendar","shared"]},{name:"month-overlay-value",use:["calendar","month-year","shared"]},{name:"year-overlay-value",use:["calendar","month-year","shared","year-mode"]},{name:"year-overlay",use:["month-year","shared"]},{name:"month-overlay",use:["month-year","shared"]},{name:"month-overlay-header",use:["month-year","shared"]},{name:"year-overlay-header",use:["month-year","shared"]},{name:"hours-overlay-value",use:["calendar","time","shared"]},{name:"minutes-overlay-value",use:["calendar","time","shared"]},{name:"seconds-overlay-value",use:["calendar","time","shared"]},{name:"hours",use:["calendar","time","shared"]},{name:"minutes",use:["calendar","time","shared"]},{name:"month",use:["calendar","month-year","shared"]},{name:"year",use:["calendar","month-year","shared","year-mode"]},{name:"action-buttons",use:["action"]},{name:"action-preview",use:["action"]},{name:"calendar-header",use:["calendar","shared"]},{name:"marker-tooltip",use:["calendar","shared"]},{name:"action-extra",use:["menu"]},{name:"time-picker-overlay",use:["calendar","time","shared"]},{name:"am-pm-button",use:["calendar","time","shared"]},{name:"left-sidebar",use:["menu"]},{name:"right-sidebar",use:["menu"]},{name:"month-year",use:["month-year","shared"]},{name:"time-picker",use:["menu","shared"]},{name:"action-row",use:["action"]},{name:"marker",use:["calendar","shared"]},{name:"quarter",use:["shared"]},{name:"top-extra",use:["shared","month-year"]}],fa=[{name:"trigger"},{name:"input-icon"},{name:"clear-icon"},{name:"dp-input"}],ma={all:()=>Oe,monthYear:()=>Oe.filter(t=>t.use.includes("month-year")),input:()=>fa,timePicker:()=>Oe.filter(t=>t.use.includes("time")),action:()=>Oe.filter(t=>t.use.includes("action")),calendar:()=>Oe.filter(t=>t.use.includes("calendar")),menu:()=>Oe.filter(t=>t.use.includes("menu")),shared:()=>Oe.filter(t=>t.use.includes("shared")),yearMode:()=>Oe.filter(t=>t.use.includes("year-mode"))},Me=(t,n,o)=>{const r=[];return ma[n]().forEach(a=>{t[a.name]&&r.push(a.name)}),o!=null&&o.length&&o.forEach(a=>{a.slot&&r.push(a.slot)}),r},Xe=t=>{const n=e.computed(()=>r=>t.value?r?t.value.open:t.value.close:""),o=e.computed(()=>r=>t.value?r?t.value.menuAppearTop:t.value.menuAppearBottom:"");return{transitionName:n,showTransition:!!t.value,menuTransition:o}},Je=(t,n)=>{const{defaultedRange:o,defaultedTz:r}=me(t),a=j(Ae(j(),r.value.timezone)),m=e.ref([{month:s.getMonth(a),year:s.getYear(a)}]),p=e.reactive({hours:o.value.enabled?[s.getHours(a),s.getHours(a)]:s.getHours(a),minutes:o.value.enabled?[s.getMinutes(a),s.getMinutes(a)]:s.getMinutes(a),seconds:o.value.enabled?[0,0]:0}),i=e.computed({get:()=>t.internalModelValue,set:k=>{!t.readonly&&!t.disabled&&n("update:internal-model-value",k)}}),N=e.computed(()=>k=>m.value[k]?m.value[k].month:0),E=e.computed(()=>k=>m.value[k]?m.value[k].year:0);return{calendars:m,time:p,modelValue:i,month:N,year:E,today:a}},pa=(t,n)=>{const{defaultedMultiCalendars:o,defaultedMultiDates:r,defaultedHighlight:a,defaultedTz:m,propDates:p,defaultedRange:i}=me(n),{isDisabled:N}=Ie(n),E=e.ref(null),k=e.ref(Ae(new Date,m.value.timezone)),B=c=>{!c.current&&n.hideOffsetDates||(E.value=c.value)},w=()=>{E.value=null},T=c=>Array.isArray(t.value)&&i.value.enabled&&t.value[0]&&E.value?c?ge(E.value,t.value[0]):pe(E.value,t.value[0]):!0,L=(c,v)=>{const A=()=>t.value?v?t.value[0]||null:t.value[1]:null,le=t.value&&Array.isArray(t.value)?A():null;return ue(j(c.value),le)},S=c=>{const v=Array.isArray(t.value)?t.value[0]:null;return c?!pe(E.value??null,v):!0},K=(c,v=!0)=>(i.value.enabled||n.weekPicker)&&Array.isArray(t.value)&&t.value.length===2?n.hideOffsetDates&&!c.current?!1:ue(j(c.value),t.value[v?0:1]):i.value.enabled?L(c,v)&&S(v)||ue(c.value,Array.isArray(t.value)?t.value[0]:null)&&T(v):!1,P=(c,v)=>{if(Array.isArray(t.value)&&t.value[0]&&t.value.length===1){const A=ue(c.value,E.value);return v?ge(t.value[0],c.value)&&A:pe(t.value[0],c.value)&&A}return!1},z=c=>!t.value||n.hideOffsetDates&&!c.current?!1:i.value.enabled?n.modelAuto&&Array.isArray(t.value)?ue(c.value,t.value[0]?t.value[0]:k.value):!1:r.value.enabled&&Array.isArray(t.value)?t.value.some(v=>ue(v,c.value)):ue(c.value,t.value?t.value:k.value),Y=c=>{if(i.value.autoRange||n.weekPicker){if(E.value){if(n.hideOffsetDates&&!c.current)return!1;const v=s.addDays(E.value,+i.value.autoRange),A=Re(j(E.value),n.weekStart);return n.weekPicker?ue(A[1],j(c.value)):ue(v,j(c.value))}return!1}return!1},_=c=>{if(i.value.autoRange||n.weekPicker){if(E.value){const v=s.addDays(E.value,+i.value.autoRange);if(n.hideOffsetDates&&!c.current)return!1;const A=Re(j(E.value),n.weekStart);return n.weekPicker?ge(c.value,A[0])&&pe(c.value,A[1]):ge(c.value,E.value)&&pe(c.value,v)}return!1}return!1},W=c=>{if(i.value.autoRange||n.weekPicker){if(E.value){if(n.hideOffsetDates&&!c.current)return!1;const v=Re(j(E.value),n.weekStart);return n.weekPicker?ue(v[0],c.value):ue(E.value,c.value)}return!1}return!1},I=c=>lt(t.value,E.value,c.value),G=()=>n.modelAuto&&Array.isArray(n.internalModelValue)?!!n.internalModelValue[0]:!1,b=()=>n.modelAuto?tn(n.internalModelValue):!0,re=c=>{if(n.weekPicker)return!1;const v=i.value.enabled?!K(c)&&!K(c,!1):!0;return!N(c.value)&&!z(c)&&!(!c.current&&n.hideOffsetDates)&&v},ne=c=>i.value.enabled?n.modelAuto?G()&&z(c):!1:z(c),te=c=>a.value?In(c.value,p.value.highlight):!1,R=c=>{const v=N(c.value);return v&&(typeof a.value=="function"?!a.value(c.value,v):!a.value.options.highlightDisabled)},H=c=>{var v;return typeof a.value=="function"?a.value(c.value):(v=a.value.weekdays)==null?void 0:v.includes(c.value.getDay())},J=c=>(i.value.enabled||n.weekPicker)&&(!(o.value.count>0)||c.current)&&b()&&!(!c.current&&n.hideOffsetDates)&&!z(c)?I(c):!1,O=c=>{const{isRangeStart:v,isRangeEnd:A}=q(c),le=i.value.enabled?v||A:!1;return{dp__cell_offset:!c.current,dp__pointer:!n.disabled&&!(!c.current&&n.hideOffsetDates)&&!N(c.value),dp__cell_disabled:N(c.value),dp__cell_highlight:!R(c)&&(te(c)||H(c))&&!ne(c)&&!le&&!W(c)&&!(J(c)&&n.weekPicker)&&!A,dp__cell_highlight_active:!R(c)&&(te(c)||H(c))&&ne(c),dp__today:!n.noToday&&ue(c.value,k.value)&&c.current,"dp--past":pe(c.value,k.value),"dp--future":ge(c.value,k.value)}},f=c=>({dp__active_date:ne(c),dp__date_hover:re(c)}),C=c=>{if(t.value&&!Array.isArray(t.value)){const v=Re(t.value,n.weekStart);return{...g(c),dp__range_start:ue(v[0],c.value),dp__range_end:ue(v[1],c.value),dp__range_between_week:ge(c.value,v[0])&&pe(c.value,v[1])}}return{...g(c)}},y=c=>{if(t.value&&Array.isArray(t.value)){const v=Re(t.value[0],n.weekStart),A=t.value[1]?Re(t.value[1],n.weekStart):[];return{...g(c),dp__range_start:ue(v[0],c.value)||ue(A[0],c.value),dp__range_end:ue(v[1],c.value)||ue(A[1],c.value),dp__range_between_week:ge(c.value,v[0])&&pe(c.value,v[1])||ge(c.value,A[0])&&pe(c.value,A[1]),dp__range_between:ge(c.value,v[1])&&pe(c.value,A[0])}}return{...g(c)}},q=c=>{const v=o.value.count>0?c.current&&K(c)&&b():K(c)&&b(),A=o.value.count>0?c.current&&K(c,!1)&&b():K(c,!1)&&b();return{isRangeStart:v,isRangeEnd:A}},V=c=>{const{isRangeStart:v,isRangeEnd:A}=q(c);return{dp__range_start:v,dp__range_end:A,dp__range_between:J(c),dp__date_hover:ue(c.value,E.value)&&!v&&!A&&!n.weekPicker,dp__date_hover_start:P(c,!0),dp__date_hover_end:P(c,!1)}},g=c=>({...V(c),dp__cell_auto_range:_(c),dp__cell_auto_range_start:W(c),dp__cell_auto_range_end:Y(c)}),U=c=>i.value.enabled?i.value.autoRange?g(c):n.modelAuto?{...f(c),...V(c)}:n.weekPicker?y(c):V(c):n.weekPicker?C(c):f(c);return{setHoverDate:B,clearHoverDate:w,getDayClassData:c=>n.hideOffsetDates&&!c.current?{}:{...O(c),...U(c),[n.dayClass?n.dayClass(c.value):""]:!0,[n.calendarCellClassName]:!!n.calendarCellClassName}}},Ie=t=>{const{defaultedFilters:n,defaultedRange:o,propDates:r,defaultedMultiDates:a}=me(t),m=R=>r.value.disabledDates?typeof r.value.disabledDates=="function"?r.value.disabledDates(j(R)):!!rt(R,r.value.disabledDates):!1,p=R=>{const H=r.value.maxDate?ge(R,r.value.maxDate):!1,J=r.value.minDate?pe(R,r.value.minDate):!1,O=m(R),C=n.value.months.map(U=>+U).includes(s.getMonth(R)),y=t.disabledWeekDays.length?t.disabledWeekDays.some(U=>+U===s.getDay(R)):!1,q=B(R),V=s.getYear(R),g=V<+t.yearRange[0]||V>+t.yearRange[1];return!(H||J||O||C||g||y||q)},i=(R,H)=>pe(...Ve(r.value.minDate,R,H))||ue(...Ve(r.value.minDate,R,H)),N=(R,H)=>ge(...Ve(r.value.maxDate,R,H))||ue(...Ve(r.value.maxDate,R,H)),E=(R,H,J)=>{let O=!1;return r.value.maxDate&&J&&N(R,H)&&(O=!0),r.value.minDate&&!J&&i(R,H)&&(O=!0),O},k=(R,H,J,O)=>{let f=!1;return O?r.value.minDate&&r.value.maxDate?f=E(R,H,J):(r.value.minDate&&i(R,H)||r.value.maxDate&&N(R,H))&&(f=!0):f=!0,f},B=R=>Array.isArray(r.value.allowedDates)&&!r.value.allowedDates.length?!0:r.value.allowedDates?!rt(R,r.value.allowedDates):!1,w=R=>!p(R),T=R=>o.value.noDisabledRange?!s.eachDayOfInterval({start:R[0],end:R[1]}).some(J=>w(J)):!0,L=R=>{if(R){const H=s.getYear(R);return H>=+t.yearRange[0]&&H<=t.yearRange[1]}return!0},S=(R,H)=>!!(Array.isArray(R)&&R[H]&&(o.value.maxRange||o.value.minRange)&&L(R[H])),K=(R,H,J=0)=>{if(S(H,J)&&L(R)){const O=s.differenceInCalendarDays(R,H[J]),f=cn(H[J],R),C=f.length===1?0:f.filter(q=>w(q)).length,y=Math.abs(O)-(o.value.minMaxRawRange?0:C);if(o.value.minRange&&o.value.maxRange)return y>=+o.value.minRange&&y<=+o.value.maxRange;if(o.value.minRange)return y>=+o.value.minRange;if(o.value.maxRange)return y<=+o.value.maxRange}return!0},P=()=>!t.enableTimePicker||t.monthPicker||t.yearPicker||t.ignoreTimeValidation,z=R=>Array.isArray(R)?[R[0]?Pt(R[0]):null,R[1]?Pt(R[1]):null]:Pt(R),Y=(R,H,J)=>R.find(O=>+O.hours===s.getHours(H)&&O.minutes==="*"?!0:+O.minutes===s.getMinutes(H)&&+O.hours===s.getHours(H))&&J,_=(R,H,J)=>{const[O,f]=R,[C,y]=H;return!Y(O,C,J)&&!Y(f,y,J)&&J},W=(R,H)=>{const J=Array.isArray(H)?H:[H];return Array.isArray(t.disabledTimes)?Array.isArray(t.disabledTimes[0])?_(t.disabledTimes,J,R):!J.some(O=>Y(t.disabledTimes,O,R)):R},I=(R,H)=>{const J=Array.isArray(H)?[ze(H[0]),H[1]?ze(H[1]):void 0]:ze(H),O=!t.disabledTimes(J);return R&&O},G=(R,H)=>t.disabledTimes?Array.isArray(t.disabledTimes)?W(H,R):I(H,R):H,b=R=>{let H=!0;if(!R||P())return!0;const J=!r.value.minDate&&!r.value.maxDate?z(R):R;return(t.maxTime||r.value.maxDate)&&(H=pn(t.maxTime,r.value.maxDate,"max",he(J),H)),(t.minTime||r.value.minDate)&&(H=pn(t.minTime,r.value.minDate,"min",he(J),H)),G(R,H)},re=R=>{if(!t.monthPicker)return!0;let H=!0;const J=j(Be(R));if(r.value.minDate&&r.value.maxDate){const O=j(Be(r.value.minDate)),f=j(Be(r.value.maxDate));return ge(J,O)&&pe(J,f)||ue(J,O)||ue(J,f)}if(r.value.minDate){const O=j(Be(r.value.minDate));H=ge(J,O)||ue(J,O)}if(r.value.maxDate){const O=j(Be(r.value.maxDate));H=pe(J,O)||ue(J,O)}return H},ne=e.computed(()=>R=>!t.enableTimePicker||t.ignoreTimeValidation?!0:b(R)),te=e.computed(()=>R=>t.monthPicker?Array.isArray(R)&&(o.value.enabled||a.value.enabled)?!R.filter(J=>!re(J)).length:re(R):!0);return{isDisabled:w,validateDate:p,validateMonthYearInRange:k,isDateRangeAllowed:T,checkMinMaxRange:K,isValidTime:b,isTimeValid:ne,isMonthValid:te}},it=()=>{const t=e.computed(()=>(r,a)=>r==null?void 0:r.includes(a)),n=e.computed(()=>(r,a)=>r.count?r.solo?!0:a===0:!0),o=e.computed(()=>(r,a)=>r.count?r.solo?!0:a===r.count-1:!0);return{hideNavigationButtons:t,showLeftIcon:n,showRightIcon:o}},ga=(t,n,o)=>{const r=e.ref(0),a=e.reactive({[Ke.timePicker]:!t.enableTimePicker||t.timePicker||t.monthPicker,[Ke.calendar]:!1,[Ke.header]:!1}),m=e.computed(()=>t.monthPicker),p=B=>{var w;if((w=t.flow)!=null&&w.length){if(!B&&m.value)return k();a[B]=!0,Object.keys(a).filter(T=>!a[T]).length||k()}},i=()=>{var B;(B=t.flow)!=null&&B.length&&r.value!==-1&&(r.value+=1,n("flow-step",r.value),k())},N=()=>{r.value=-1},E=(B,w,...T)=>{var L,S;t.flow[r.value]===B&&o.value&&((S=(L=o.value)[w])==null||S.call(L,...T))},k=()=>{E(Pe.month,"toggleMonthPicker",!0),E(Pe.year,"toggleYearPicker",!0),E(Pe.calendar,"toggleTimePicker",!1,!0),E(Pe.time,"toggleTimePicker",!0,!0);const B=t.flow[r.value];(B===Pe.hours||B===Pe.minutes||B===Pe.seconds)&&E(B,"toggleTimePicker",!0,!0,B)};return{childMount:p,updateFlowStep:i,resetFlow:N,flowStep:r}},ut={multiCalendars:{type:[Boolean,Number,String,Object],default:void 0},modelValue:{type:[String,Date,Array,Object,Number],default:null},modelType:{type:String,default:null},position:{type:String,default:"center"},dark:{type:Boolean,default:!1},format:{type:[String,Function],default:()=>null},autoPosition:{type:Boolean,default:!0},altPosition:{type:Function,default:null},transitions:{type:[Boolean,Object],default:!0},formatLocale:{type:Object,default:null},utc:{type:[Boolean,String],default:!1},ariaLabels:{type:Object,default:()=>({})},offset:{type:[Number,String],default:10},hideNavigation:{type:Array,default:()=>[]},timezone:{type:[String,Object],default:null},emitTimezone:{type:String,default:null},vertical:{type:Boolean,default:!1},disableMonthYearSelect:{type:Boolean,default:!1},disableYearSelect:{type:Boolean,default:!1},menuClassName:{type:String,default:null},dayClass:{type:Function,default:null},yearRange:{type:Array,default:()=>[1900,2100]},calendarCellClassName:{type:String,default:null},enableTimePicker:{type:Boolean,default:!0},autoApply:{type:Boolean,default:!1},disabledDates:{type:[Array,Function],default:()=>[]},monthNameFormat:{type:String,default:"short"},startDate:{type:[Date,String],default:null},startTime:{type:[Object,Array],default:null},hideOffsetDates:{type:Boolean,default:!1},autoRange:{type:[Number,String],default:null},noToday:{type:Boolean,default:!1},disabledWeekDays:{type:Array,default:()=>[]},allowedDates:{type:Array,default:null},nowButtonLabel:{type:String,default:"Now"},markers:{type:Array,default:()=>[]},escClose:{type:Boolean,default:!0},spaceConfirm:{type:Boolean,default:!0},monthChangeOnArrows:{type:Boolean,default:!0},presetDates:{type:Array,default:()=>[]},flow:{type:Array,default:()=>[]},partialFlow:{type:Boolean,default:!1},preventMinMaxNavigation:{type:Boolean,default:!1},minRange:{type:[Number,String],default:null},maxRange:{type:[Number,String],default:null},multiDatesLimit:{type:[Number,String],default:null},reverseYears:{type:Boolean,default:!1},weekPicker:{type:Boolean,default:!1},filters:{type:Object,default:()=>({})},arrowNavigation:{type:Boolean,default:!1},disableTimeRangeValidation:{type:Boolean,default:!1},highlight:{type:[Function,Object],default:null},teleport:{type:[Boolean,String,Object],default:null},teleportCenter:{type:Boolean,default:!1},locale:{type:String,default:"en-Us"},weekNumName:{type:String,default:"W"},weekStart:{type:[Number,String],default:1},weekNumbers:{type:[String,Function,Object],default:null},calendarClassName:{type:String,default:null},monthChangeOnScroll:{type:[Boolean,String],default:!0},dayNames:{type:[Function,Array],default:null},monthPicker:{type:Boolean,default:!1},customProps:{type:Object,default:null},yearPicker:{type:Boolean,default:!1},modelAuto:{type:Boolean,default:!1},selectText:{type:String,default:"Select"},cancelText:{type:String,default:"Cancel"},previewFormat:{type:[String,Function],default:()=>""},multiDates:{type:[Object,Boolean],default:!1},partialRange:{type:Boolean,default:!0},ignoreTimeValidation:{type:Boolean,default:!1},minDate:{type:[Date,String],default:null},maxDate:{type:[Date,String],default:null},minTime:{type:Object,default:null},maxTime:{type:Object,default:null},name:{type:String,default:null},placeholder:{type:String,default:""},hideInputIcon:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},state:{type:Boolean,default:null},required:{type:Boolean,default:!1},autocomplete:{type:String,default:"off"},inputClassName:{type:String,default:null},fixedStart:{type:Boolean,default:!1},fixedEnd:{type:Boolean,default:!1},timePicker:{type:Boolean,default:!1},enableSeconds:{type:Boolean,default:!1},is24:{type:Boolean,default:!0},noHoursOverlay:{type:Boolean,default:!1},noMinutesOverlay:{type:Boolean,default:!1},noSecondsOverlay:{type:Boolean,default:!1},hoursGridIncrement:{type:[String,Number],default:1},minutesGridIncrement:{type:[String,Number],default:5},secondsGridIncrement:{type:[String,Number],default:5},hoursIncrement:{type:[Number,String],default:1},minutesIncrement:{type:[Number,String],default:1},secondsIncrement:{type:[Number,String],default:1},range:{type:[Boolean,Object],default:!1},uid:{type:String,default:null},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},inline:{type:[Boolean,Object],default:!1},textInput:{type:[Boolean,Object],default:!1},noDisabledRange:{type:Boolean,default:!1},sixWeeks:{type:[Boolean,String],default:!1},actionRow:{type:Object,default:()=>({})},focusStartDate:{type:Boolean,default:!1},disabledTimes:{type:[Function,Array],default:void 0},showLastInRange:{type:Boolean,default:!0},timePickerInline:{type:Boolean,default:!1},calendar:{type:Function,default:null},config:{type:Object,default:void 0},quarterPicker:{type:Boolean,default:!1},yearFirst:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},onInternalModelChange:{type:[Function,Object],default:null},enableMinutes:{type:Boolean,default:!0}},Te={...ut,shadow:{type:Boolean,default:!1},flowStep:{type:Number,default:0},internalModelValue:{type:[Date,Array],default:null},noOverlayFocus:{type:Boolean,default:!1},collapse:{type:Boolean,default:!1},menuWrapRef:{type:Object,default:null},getInputRect:{type:Function,default:()=>({})}},ya={key:1,class:"dp__input_wrap"},ha=["id","name","inputmode","placeholder","disabled","readonly","required","value","autocomplete","aria-label","aria-disabled","aria-invalid"],ka={key:2,class:"dp__clear_icon"},ba=e.defineComponent({compatConfig:{MODE:3},__name:"DatepickerInput",props:{isMenuOpen:{type:Boolean,default:!1},inputValue:{type:String,default:""},...ut},emits:["clear","open","update:input-value","set-input-date","close","select-date","set-empty-date","toggle","focus-prev","focus","blur","real-blur"],setup(t,{expose:n,emit:o}){const r=o,a=t,{defaultedTextInput:m,defaultedAriaLabels:p,defaultedInline:i,defaultedConfig:N,defaultedRange:E,defaultedMultiDates:k,getDefaultPattern:B,getDefaultStartTime:w}=me(a),{checkMinMaxRange:T}=Ie(a),L=e.ref(),S=e.ref(null),K=e.ref(!1),P=e.ref(!1),z=e.computed(()=>({dp__pointer:!a.disabled&&!a.readonly&&!m.value.enabled,dp__disabled:a.disabled,dp__input_readonly:!m.value.enabled,dp__input:!0,dp__input_icon_pad:!a.hideInputIcon,dp__input_valid:!!a.state,dp__input_invalid:a.state===!1,dp__input_focus:K.value||a.isMenuOpen,dp__input_reg:!m.value.enabled,[a.inputClassName]:!!a.inputClassName})),Y=()=>{r("set-input-date",null),a.clearable&&a.autoApply&&(r("set-empty-date"),L.value=null)},_=y=>{const q=w();return zn(y,m.value.format??B(),q??dn({},a.enableSeconds),a.inputValue,P.value,a.formatLocale)},W=y=>{const{rangeSeparator:q}=m.value,[V,g]=y.split(`${q}`);if(V){const U=_(V.trim()),F=g?_(g.trim()):null;if(s.isAfter(U,F))return;const c=U&&F?[U,F]:[U];T(F,c,0)&&(L.value=U?c:null)}},I=()=>{P.value=!0},G=y=>{if(E.value.enabled)W(y);else if(k.value.enabled){const q=y.split(";");L.value=q.map(V=>_(V.trim())).filter(V=>V)}else L.value=_(y)},b=y=>{var V;const q=typeof y=="string"?y:(V=y.target)==null?void 0:V.value;q!==""?(m.value.openMenu&&!a.isMenuOpen&&r("open"),G(q),r("set-input-date",L.value)):Y(),P.value=!1,r("update:input-value",q)},re=y=>{m.value.enabled?(G(y.target.value),m.value.enterSubmit&&$t(L.value)&&a.inputValue!==""?(r("set-input-date",L.value,!0),L.value=null):m.value.enterSubmit&&a.inputValue===""&&(L.value=null,r("clear"))):R(y)},ne=y=>{m.value.enabled&&m.value.tabSubmit&&G(y.target.value),m.value.tabSubmit&&$t(L.value)&&a.inputValue!==""?(r("set-input-date",L.value,!0,!0),L.value=null):m.value.tabSubmit&&a.inputValue===""&&(L.value=null,r("clear",!0))},te=()=>{K.value=!0,r("focus"),e.nextTick().then(()=>{var y;m.value.enabled&&m.value.selectOnFocus&&((y=S.value)==null||y.select())})},R=y=>{y.preventDefault(),Ee(y,N.value,!0),m.value.enabled&&m.value.openMenu&&!i.value.input&&!a.isMenuOpen?r("open"):m.value.enabled||r("toggle")},H=()=>{r("real-blur"),K.value=!1,(!a.isMenuOpen||i.value.enabled&&i.value.input)&&r("blur"),a.autoApply&&m.value.enabled&&L.value&&!a.isMenuOpen&&(r("set-input-date",L.value),r("select-date"),L.value=null)},J=y=>{Ee(y,N.value,!0),r("clear")},O=y=>{if(!m.value.enabled){if(y.code==="Tab")return;y.preventDefault()}};return n({focusInput:()=>{var y;(y=S.value)==null||y.focus({preventScroll:!0})},setParsedDate:y=>{L.value=y}}),(y,q)=>{var V;return e.openBlock(),e.createElementBlock("div",{onClick:R},[y.$slots.trigger&&!y.$slots["dp-input"]&&!e.unref(i).enabled?e.renderSlot(y.$slots,"trigger",{key:0}):e.createCommentVNode("",!0),!y.$slots.trigger&&(!e.unref(i).enabled||e.unref(i).input)?(e.openBlock(),e.createElementBlock("div",ya,[y.$slots["dp-input"]&&!y.$slots.trigger&&(!e.unref(i).enabled||e.unref(i).enabled&&e.unref(i).input)?e.renderSlot(y.$slots,"dp-input",{key:0,value:t.inputValue,isMenuOpen:t.isMenuOpen,onInput:b,onEnter:re,onTab:ne,onClear:J,onBlur:H,onKeypress:O,onPaste:I,openMenu:()=>y.$emit("open"),closeMenu:()=>y.$emit("close"),toggleMenu:()=>y.$emit("toggle")}):e.createCommentVNode("",!0),y.$slots["dp-input"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("input",{key:1,id:y.uid?`dp-input-${y.uid}`:void 0,ref_key:"inputRef",ref:S,"data-test":"dp-input",name:y.name,class:e.normalizeClass(z.value),inputmode:e.unref(m).enabled?"text":"none",placeholder:y.placeholder,disabled:y.disabled,readonly:y.readonly,required:y.required,value:t.inputValue,autocomplete:y.autocomplete,"aria-label":(V=e.unref(p))==null?void 0:V.input,"aria-disabled":y.disabled||void 0,"aria-invalid":y.state===!1?!0:void 0,onInput:b,onKeydown:[e.withKeys(re,["enter"]),e.withKeys(ne,["tab"]),O],onBlur:H,onFocus:te,onKeypress:O,onPaste:I},null,42,ha)),e.createElementVNode("div",{onClick:q[2]||(q[2]=g=>r("toggle"))},[y.$slots["input-icon"]&&!y.hideInputIcon?(e.openBlock(),e.createElementBlock("span",{key:0,class:"dp__input_icon",onClick:q[0]||(q[0]=g=>r("toggle"))},[e.renderSlot(y.$slots,"input-icon")])):e.createCommentVNode("",!0),!y.$slots["input-icon"]&&!y.hideInputIcon&&!y.$slots["dp-input"]?(e.openBlock(),e.createBlock(e.unref(We),{key:1,class:"dp__input_icon dp__input_icons",onClick:q[1]||(q[1]=g=>r("toggle"))})):e.createCommentVNode("",!0)]),y.$slots["clear-icon"]&&t.inputValue&&y.clearable&&!y.disabled&&!y.readonly?(e.openBlock(),e.createElementBlock("span",ka,[e.renderSlot(y.$slots,"clear-icon",{clear:J})])):e.createCommentVNode("",!0),y.clearable&&!y.$slots["clear-icon"]&&t.inputValue&&!y.disabled&&!y.readonly?(e.openBlock(),e.createBlock(e.unref(Jt),{key:3,class:"dp__clear_icon dp__input_icons","data-test":"clear-icon",onClick:q[3]||(q[3]=e.withModifiers(g=>J(g),["prevent"]))})):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0)])}}}),wa=["title"],va=["disabled"],Ma=e.defineComponent({compatConfig:{MODE:3},__name:"ActionRow",props:{menuMount:{type:Boolean,default:!1},calendarWidth:{type:Number,default:0},...Te},emits:["close-picker","select-date","select-now","invalid-select"],setup(t,{emit:n}){const o=n,r=t,{defaultedActionRow:a,defaultedPreviewFormat:m,defaultedMultiCalendars:p,defaultedTextInput:i,defaultedInline:N,defaultedRange:E,defaultedMultiDates:k,getDefaultPattern:B}=me(r),{isTimeValid:w,isMonthValid:T}=Ie(r),{buildMatrix:L}=Ye(),S=e.ref(null),K=e.ref(null),P=e.ref(!1),z=e.ref({}),Y=e.ref(null),_=e.ref(null);e.onMounted(()=>{r.arrowNavigation&&L([ke(S),ke(K)],"actionRow"),W(),window.addEventListener("resize",W)}),e.onUnmounted(()=>{window.removeEventListener("resize",W)});const W=()=>{P.value=!1,setTimeout(()=>{var C,y;const O=(C=Y.value)==null?void 0:C.getBoundingClientRect(),f=(y=_.value)==null?void 0:y.getBoundingClientRect();O&&f&&(z.value.maxWidth=`${f.width-O.width-20}px`),P.value=!0},0)},I=e.computed(()=>E.value.enabled&&!E.value.partialRange&&r.internalModelValue?r.internalModelValue.length===2:!0),G=e.computed(()=>!w.value(r.internalModelValue)||!T.value(r.internalModelValue)||!I.value),b=()=>{const O=m.value;return r.timePicker||r.monthPicker,O(he(r.internalModelValue))},re=()=>{const O=r.internalModelValue;return p.value.count>0?`${ne(O[0])} - ${ne(O[1])}`:[ne(O[0]),ne(O[1])]},ne=O=>mn(O,m.value,r.formatLocale,i.value.rangeSeparator,r.modelAuto,B()),te=e.computed(()=>!r.internalModelValue||!r.menuMount?"":typeof m.value=="string"?Array.isArray(r.internalModelValue)?r.internalModelValue.length===2&&r.internalModelValue[1]?re():k.value.enabled?r.internalModelValue.map(O=>`${ne(O)}`):r.modelAuto?`${ne(r.internalModelValue[0])}`:`${ne(r.internalModelValue[0])} -`:ne(r.internalModelValue):b()),R=()=>k.value.enabled?"; ":" - ",H=e.computed(()=>Array.isArray(te.value)?te.value.join(R()):te.value),J=()=>{w.value(r.internalModelValue)&&T.value(r.internalModelValue)&&I.value?o("select-date"):o("invalid-select")};return(O,f)=>(e.openBlock(),e.createElementBlock("div",{ref_key:"actionRowRef",ref:_,class:"dp__action_row"},[O.$slots["action-row"]?e.renderSlot(O.$slots,"action-row",e.normalizeProps(e.mergeProps({key:0},{internalModelValue:O.internalModelValue,disabled:G.value,selectDate:()=>O.$emit("select-date"),closePicker:()=>O.$emit("close-picker")}))):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.unref(a).showPreview?(e.openBlock(),e.createElementBlock("div",{key:0,class:"dp__selection_preview",title:H.value,style:e.normalizeStyle(z.value)},[O.$slots["action-preview"]&&P.value?e.renderSlot(O.$slots,"action-preview",{key:0,value:O.internalModelValue}):e.createCommentVNode("",!0),!O.$slots["action-preview"]&&P.value?(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(H.value),1)],64)):e.createCommentVNode("",!0)],12,wa)):e.createCommentVNode("",!0),e.createElementVNode("div",{ref_key:"actionBtnContainer",ref:Y,class:"dp__action_buttons","data-dp-element":"action-row"},[O.$slots["action-buttons"]?e.renderSlot(O.$slots,"action-buttons",{key:0,value:O.internalModelValue}):e.createCommentVNode("",!0),O.$slots["action-buttons"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[!e.unref(N).enabled&&e.unref(a).showCancel?(e.openBlock(),e.createElementBlock("button",{key:0,ref_key:"cancelButtonRef",ref:S,type:"button",class:"dp__action_button dp__action_cancel",onClick:f[0]||(f[0]=C=>O.$emit("close-picker")),onKeydown:[f[1]||(f[1]=e.withKeys(C=>O.$emit("close-picker"),["enter"])),f[2]||(f[2]=e.withKeys(C=>O.$emit("close-picker"),["space"]))]},e.toDisplayString(O.cancelText),545)):e.createCommentVNode("",!0),e.unref(a).showNow?(e.openBlock(),e.createElementBlock("button",{key:1,type:"button",class:"dp__action_button dp__action_cancel",onClick:f[3]||(f[3]=C=>O.$emit("select-now")),onKeydown:[f[4]||(f[4]=e.withKeys(C=>O.$emit("select-now"),["enter"])),f[5]||(f[5]=e.withKeys(C=>O.$emit("select-now"),["space"]))]},e.toDisplayString(O.nowButtonLabel),33)):e.createCommentVNode("",!0),e.unref(a).showSelect?(e.openBlock(),e.createElementBlock("button",{key:2,ref_key:"selectButtonRef",ref:K,type:"button",class:"dp__action_button dp__action_select",disabled:G.value,"data-test":"select-button",onKeydown:[e.withKeys(J,["enter"]),e.withKeys(J,["space"])],onClick:J},e.toDisplayString(O.selectText),41,va)):e.createCommentVNode("",!0)],64))],512)],64))],512))}}),Sa=["onKeydown"],Da={class:"dp__selection_grid_header"},Ca=["aria-selected","aria-disabled","data-test","onClick","onKeydown","onMouseover"],Ba=["aria-label"],Ze=e.defineComponent({__name:"SelectionOverlay",props:{items:{},type:{},isLast:{type:Boolean},arrowNavigation:{type:Boolean},skipButtonRef:{type:Boolean},headerRefs:{},hideNavigation:{},escClose:{type:Boolean},useRelative:{type:Boolean},height:{},textInput:{type:[Boolean,Object]},config:{},noOverlayFocus:{type:Boolean},focusValue:{},menuWrapRef:{},ariaLabels:{}},emits:["selected","toggle","reset-flow","hover-value"],setup(t,{expose:n,emit:o}){const{setSelectionGrid:r,buildMultiLevelMatrix:a,setMonthPicker:m}=Ye(),p=o,i=t,{defaultedAriaLabels:N,defaultedTextInput:E,defaultedConfig:k}=me(i),{hideNavigationButtons:B}=it(),w=e.ref(!1),T=e.ref(null),L=e.ref(null),S=e.ref([]),K=e.ref(),P=e.ref(null),z=e.ref(0),Y=e.ref(null);e.onBeforeUpdate(()=>{T.value=null}),e.onMounted(()=>{e.nextTick().then(()=>te()),i.noOverlayFocus||W(),_(!0)}),e.onUnmounted(()=>_(!1));const _=V=>{var g;i.arrowNavigation&&((g=i.headerRefs)!=null&&g.length?m(V):r(V))},W=()=>{var g;const V=ke(L);V&&(E.value.enabled||(T.value?(g=T.value)==null||g.focus({preventScroll:!0}):V.focus({preventScroll:!0})),w.value=V.clientHeight<V.scrollHeight)},I=e.computed(()=>({dp__overlay:!0,"dp--overlay-absolute":!i.useRelative,"dp--overlay-relative":i.useRelative})),G=e.computed(()=>i.useRelative?{height:`${i.height}px`,width:"260px"}:void 0),b=e.computed(()=>({dp__overlay_col:!0})),re=e.computed(()=>({dp__btn:!0,dp__button:!0,dp__overlay_action:!0,dp__over_action_scroll:w.value,dp__button_bottom:i.isLast})),ne=e.computed(()=>{var V,g;return{dp__overlay_container:!0,dp__container_flex:((V=i.items)==null?void 0:V.length)<=6,dp__container_block:((g=i.items)==null?void 0:g.length)>6}});e.watch(()=>i.items,()=>te(!1),{deep:!0});const te=(V=!0)=>{e.nextTick().then(()=>{const g=ke(T),U=ke(L),F=ke(P),c=ke(Y),v=F?F.getBoundingClientRect().height:0;U&&(U.getBoundingClientRect().height?z.value=U.getBoundingClientRect().height-v:z.value=k.value.modeHeight-v),g&&c&&V&&(c.scrollTop=g.offsetTop-c.offsetTop-(z.value/2-g.getBoundingClientRect().height)-v)})},R=V=>{V.disabled||p("selected",V.value)},H=()=>{p("toggle"),p("reset-flow")},J=()=>{i.escClose&&H()},O=(V,g,U,F)=>{V&&((g.active||g.value===i.focusValue)&&(T.value=V),i.arrowNavigation&&(Array.isArray(S.value[U])?S.value[U][F]=V:S.value[U]=[V],f()))},f=()=>{var g,U;const V=(g=i.headerRefs)!=null&&g.length?[i.headerRefs].concat(S.value):S.value.concat([i.skipButtonRef?[]:[P.value]]);a(he(V),(U=i.headerRefs)!=null&&U.length?"monthPicker":"selectionGrid")},C=V=>{i.arrowNavigation||Ee(V,k.value,!0)},y=V=>{K.value=V,p("hover-value",V)},q=()=>{if(H(),!i.isLast){const V=On(i.menuWrapRef??null,"action-row");if(V){const g=rn(V);g==null||g.focus()}}};return n({focusGrid:W}),(V,g)=>{var U;return e.openBlock(),e.createElementBlock("div",{ref_key:"gridWrapRef",ref:L,class:e.normalizeClass(I.value),style:e.normalizeStyle(G.value),role:"dialog",tabindex:"0",onKeydown:[e.withKeys(e.withModifiers(J,["prevent"]),["esc"]),g[0]||(g[0]=e.withKeys(e.withModifiers(F=>C(F),["prevent"]),["left"])),g[1]||(g[1]=e.withKeys(e.withModifiers(F=>C(F),["prevent"]),["up"])),g[2]||(g[2]=e.withKeys(e.withModifiers(F=>C(F),["prevent"]),["down"])),g[3]||(g[3]=e.withKeys(e.withModifiers(F=>C(F),["prevent"]),["right"]))]},[e.createElementVNode("div",{ref_key:"containerRef",ref:Y,class:e.normalizeClass(ne.value),role:"grid",style:e.normalizeStyle({"--dp-overlay-height":`${z.value}px`})},[e.createElementVNode("div",Da,[e.renderSlot(V.$slots,"header")]),V.$slots.overlay?e.renderSlot(V.$slots,"overlay",{key:0}):(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:1},e.renderList(V.items,(F,c)=>(e.openBlock(),e.createElementBlock("div",{key:c,class:e.normalizeClass(["dp__overlay_row",{dp__flex_row:V.items.length>=3}]),role:"row"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(F,(v,A)=>(e.openBlock(),e.createElementBlock("div",{key:v.value,ref_for:!0,ref:le=>O(le,v,c,A),role:"gridcell",class:e.normalizeClass(b.value),"aria-selected":v.active||void 0,"aria-disabled":v.disabled||void 0,tabindex:"0","data-test":v.text,onClick:le=>R(v),onKeydown:[e.withKeys(e.withModifiers(le=>R(v),["prevent"]),["enter"]),e.withKeys(e.withModifiers(le=>R(v),["prevent"]),["space"])],onMouseover:le=>y(v.value)},[e.createElementVNode("div",{class:e.normalizeClass(v.className)},[V.$slots.item?e.renderSlot(V.$slots,"item",{key:0,item:v}):e.createCommentVNode("",!0),V.$slots.item?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(v.text),1)],64))],2)],42,Ca))),128))],2))),128))],6),V.$slots["button-icon"]?e.withDirectives((e.openBlock(),e.createElementBlock("button",{key:0,ref_key:"toggleButton",ref:P,type:"button","aria-label":(U=e.unref(N))==null?void 0:U.toggleOverlay,class:e.normalizeClass(re.value),tabindex:"0",onClick:H,onKeydown:[e.withKeys(H,["enter"]),e.withKeys(q,["tab"])]},[e.renderSlot(V.$slots,"button-icon")],42,Ba)),[[e.vShow,!e.unref(B)(V.hideNavigation,V.type)]]):e.createCommentVNode("",!0)],46,Sa)}}}),ct=e.defineComponent({__name:"InstanceWrap",props:{multiCalendars:{},stretch:{type:Boolean},collapse:{type:Boolean}},setup(t){const n=t,o=e.computed(()=>n.multiCalendars>0?[...Array(n.multiCalendars).keys()]:[0]),r=e.computed(()=>({dp__instance_calendar:n.multiCalendars>0}));return(a,m)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass({dp__menu_inner:!a.stretch,"dp--menu--inner-stretched":a.stretch,dp__flex_display:a.multiCalendars>0,"dp--flex-display-collapsed":a.collapse})},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(o.value,(p,i)=>(e.openBlock(),e.createElementBlock("div",{key:p,class:e.normalizeClass(r.value)},[e.renderSlot(a.$slots,"default",{instance:p,index:i})],2))),128))],2))}}),$a=["aria-label","aria-disabled"],Fe=e.defineComponent({compatConfig:{MODE:3},__name:"ArrowBtn",props:{ariaLabel:{},disabled:{type:Boolean}},emits:["activate","set-ref"],setup(t,{emit:n}){const o=n,r=e.ref(null);return e.onMounted(()=>o("set-ref",r)),(a,m)=>(e.openBlock(),e.createElementBlock("button",{ref_key:"elRef",ref:r,type:"button",class:"dp__btn dp--arrow-btn-nav",tabindex:"0","aria-label":a.ariaLabel,"aria-disabled":a.disabled||void 0,onClick:m[0]||(m[0]=p=>a.$emit("activate")),onKeydown:[m[1]||(m[1]=e.withKeys(e.withModifiers(p=>a.$emit("activate"),["prevent"]),["enter"])),m[2]||(m[2]=e.withKeys(e.withModifiers(p=>a.$emit("activate"),["prevent"]),["space"]))]},[e.createElementVNode("span",{class:e.normalizeClass(["dp__inner_nav",{dp__inner_nav_disabled:a.disabled}])},[e.renderSlot(a.$slots,"default")],2)],40,$a))}}),Ta={class:"dp--year-mode-picker"},Aa=["aria-label","data-test"],bn=e.defineComponent({__name:"YearModePicker",props:{...Te,showYearPicker:{type:Boolean,default:!1},items:{type:Array,default:()=>[]},instance:{type:Number,default:0},year:{type:Number,default:0},isDisabled:{type:Function,default:()=>!1}},emits:["toggle-year-picker","year-select","handle-year"],setup(t,{emit:n}){const o=n,r=t,{showRightIcon:a,showLeftIcon:m}=it(),{defaultedConfig:p,defaultedMultiCalendars:i,defaultedAriaLabels:N,defaultedTransitions:E}=me(r),{showTransition:k,transitionName:B}=Xe(E),w=(S=!1,K)=>{o("toggle-year-picker",{flow:S,show:K})},T=S=>{o("year-select",S)},L=(S=!1)=>{o("handle-year",S)};return(S,K)=>{var P,z,Y;return e.openBlock(),e.createElementBlock("div",Ta,[e.unref(m)(e.unref(i),t.instance)?(e.openBlock(),e.createBlock(Fe,{key:0,ref:"mpPrevIconRef","aria-label":(P=e.unref(N))==null?void 0:P.prevYear,disabled:t.isDisabled(!1),onActivate:K[0]||(K[0]=_=>L(!1))},{default:e.withCtx(()=>[S.$slots["arrow-left"]?e.renderSlot(S.$slots,"arrow-left",{key:0}):e.createCommentVNode("",!0),S.$slots["arrow-left"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(yt),{key:1}))]),_:3},8,["aria-label","disabled"])):e.createCommentVNode("",!0),e.createElementVNode("button",{ref:"mpYearButtonRef",class:"dp__btn dp--year-select",type:"button","aria-label":(z=e.unref(N))==null?void 0:z.openYearsOverlay,"data-test":`year-mode-btn-${t.instance}`,onClick:K[1]||(K[1]=()=>w(!1)),onKeydown:K[2]||(K[2]=e.withKeys(()=>w(!1),["enter"]))},[S.$slots.year?e.renderSlot(S.$slots,"year",{key:0,year:t.year}):e.createCommentVNode("",!0),S.$slots.year?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(t.year),1)],64))],40,Aa),e.unref(a)(e.unref(i),t.instance)?(e.openBlock(),e.createBlock(Fe,{key:1,ref:"mpNextIconRef","aria-label":(Y=e.unref(N))==null?void 0:Y.nextYear,disabled:t.isDisabled(!0),onActivate:K[3]||(K[3]=_=>L(!0))},{default:e.withCtx(()=>[S.$slots["arrow-right"]?e.renderSlot(S.$slots,"arrow-right",{key:0}):e.createCommentVNode("",!0),S.$slots["arrow-right"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(ht),{key:1}))]),_:3},8,["aria-label","disabled"])):e.createCommentVNode("",!0),e.createVNode(e.Transition,{name:e.unref(B)(t.showYearPicker),css:e.unref(k)},{default:e.withCtx(()=>[t.showYearPicker?(e.openBlock(),e.createBlock(Ze,{key:0,items:t.items,"text-input":S.textInput,"esc-close":S.escClose,config:S.config,"is-last":S.autoApply&&!e.unref(p).keepActionRow,"hide-navigation":S.hideNavigation,"aria-labels":S.ariaLabels,type:"year",onToggle:w,onSelected:K[4]||(K[4]=_=>T(_))},e.createSlots({"button-icon":e.withCtx(()=>[S.$slots["calendar-icon"]?e.renderSlot(S.$slots,"calendar-icon",{key:0}):e.createCommentVNode("",!0),S.$slots["calendar-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(We),{key:1}))]),_:2},[S.$slots["year-overlay-value"]?{name:"item",fn:e.withCtx(({item:_})=>[e.renderSlot(S.$slots,"year-overlay-value",{text:_.text,value:_.value})]),key:"0"}:void 0]),1032,["items","text-input","esc-close","config","is-last","hide-navigation","aria-labels"])):e.createCommentVNode("",!0)]),_:3},8,["name","css"])])}}}),Ot=(t,n,o)=>{if(n.value&&Array.isArray(n.value))if(n.value.some(r=>ue(t,r))){const r=n.value.filter(a=>!ue(a,t));n.value=r.length?r:null}else(o&&+o>n.value.length||!o)&&n.value.push(t);else n.value=[t]},It=(t,n,o)=>{let r=t.value?t.value.slice():[];return r.length===2&&r[1]!==null&&(r=[]),r.length?pe(n,r[0])?(r.unshift(n),o("range-start",r[0]),o("range-start",r[1])):(r[1]=n,o("range-end",n)):(r=[n],o("range-start",n)),r},dt=(t,n,o,r)=>{t&&(t[0]&&t[1]&&o&&n("auto-apply"),t[0]&&!t[1]&&r&&o&&n("auto-apply"))},wn=t=>{Array.isArray(t.value)&&t.value.length<=2&&t.range?t.modelValue.value=t.value.map(n=>Ae(j(n),t.timezone)):Array.isArray(t.value)||(t.modelValue.value=Ae(j(t.value),t.timezone))},vn=(t,n,o,r)=>Array.isArray(n.value)&&(n.value.length===2||n.value.length===1&&r.value.partialRange)?r.value.fixedStart&&(ge(t,n.value[0])||ue(t,n.value[0]))?[n.value[0],t]:r.value.fixedEnd&&(pe(t,n.value[1])||ue(t,n.value[1]))?[t,n.value[1]]:(o("invalid-fixed-range",t),n.value):[],Mn=({multiCalendars:t,highlight:n,propDates:o,calendars:r,modelValue:a,props:m,filters:p,year:i,month:N,emit:E})=>{const k=e.computed(()=>Mt(m.yearRange,m.locale,m.reverseYears)),B=e.ref([!1]),w=e.computed(()=>(I,G)=>{const b=s.set(Be(new Date),{month:N.value(I),year:i.value(I)});return fn(b,o.value.maxDate,o.value.minDate,m.preventMinMaxNavigation,G)}),T=()=>{for(let I=0;I<t.value.count;I++)if(I===0)r.value[I]=r.value[0];else{const G=s.set(j(),r.value[I-1]);r.value[I]={month:s.getMonth(G),year:s.getYear(s.addYears(G,1))}}},L=I=>{if(!I)return T();const G=s.set(j(),r.value[I]);return r.value[0].year=s.getYear(s.subYears(G,t.value.count-1)),T()},S=I=>m.focusStartDate?I[0]:I[1]?I[1]:I[0],K=()=>{if(a.value){const I=Array.isArray(a.value)?S(a.value):a.value;r.value[0]={month:s.getMonth(I),year:s.getYear(I)}}};e.onMounted(()=>{K(),t.value.count&&T()});const P=(I,G)=>{r.value[G].year=I,t.value.count&&!t.value.solo&&L(G)},z=e.computed(()=>I=>Ue(k.value,G=>{var te;const b=i.value(I)===G.value,re=Qe(G.value,je(o.value.minDate),je(o.value.maxDate))||((te=p.value.years)==null?void 0:te.includes(i.value(I))),ne=Rt(n.value,G.value);return{active:b,disabled:re,highlighted:ne}})),Y=(I,G)=>{P(I,G),W(G)},_=(I,G=!1)=>{if(!w.value(I,G)){const b=G?i.value(I)+1:i.value(I)-1;P(b,I)}},W=(I,G=!1,b)=>{G||E("reset-flow"),b!==void 0?B.value[I]=b:B.value[I]=!B.value[I],B.value||E("overlay-closed")};return{isDisabled:w,groupedYears:z,showYearPicker:B,selectYear:P,toggleYearPicker:W,handleYearSelect:Y,handleYear:_}},Pa=(t,n)=>{const{defaultedMultiCalendars:o,defaultedAriaLabels:r,defaultedTransitions:a,defaultedConfig:m,defaultedRange:p,defaultedHighlight:i,propDates:N,defaultedTz:E,defaultedFilters:k,defaultedMultiDates:B}=me(t),{modelValue:w,year:T,month:L,calendars:S}=Je(t,n),K=e.computed(()=>en(t.formatLocale,t.locale,t.monthNameFormat)),P=e.ref(null),{checkMinMaxRange:z}=Ie(t),{selectYear:Y,groupedYears:_,showYearPicker:W,toggleYearPicker:I,handleYearSelect:G,handleYear:b,isDisabled:re}=Mn({modelValue:w,multiCalendars:o,highlight:i,calendars:S,year:T,propDates:N,month:L,filters:k,props:t,emit:n});e.onMounted(()=>{t.startDate&&(w.value&&t.focusStartDate||!w.value)&&Y(s.getYear(j(t.startDate)),0)});const ne=v=>v?{month:s.getMonth(v),year:s.getYear(v)}:{month:null,year:null},te=()=>w.value?Array.isArray(w.value)?w.value.map(v=>ne(v)):ne(w.value):ne(),R=(v,A)=>{const le=S.value[v],d=te();return Array.isArray(d)?d.some(ee=>ee.year===(le==null?void 0:le.year)&&ee.month===A):(le==null?void 0:le.year)===d.year&&A===d.month},H=(v,A,le)=>{var ee,l;const d=te();return Array.isArray(d)?T.value(A)===((ee=d[le])==null?void 0:ee.year)&&v===((l=d[le])==null?void 0:l.month):!1},J=(v,A)=>{if(p.value.enabled){const le=te();if(Array.isArray(w.value)&&Array.isArray(le)){const d=H(v,A,0)||H(v,A,1),ee=Ne(Be(j()),v,T.value(A));return lt(w.value,P.value,ee)&&!d}return!1}return!1},O=e.computed(()=>v=>Ue(K.value,A=>{var $;const le=R(v,A.value),d=Qe(A.value,sn(T.value(v),N.value.minDate),un(T.value(v),N.value.maxDate))||jn(N.value.disabledDates,T.value(v)).includes(A.value)||(($=k.value.months)==null?void 0:$.includes(A.value)),ee=J(A.value,v),l=gn(i.value,A.value,T.value(v));return{active:le,disabled:d,isBetween:ee,highlighted:l}})),f=(v,A)=>Ne(Be(j()),v,T.value(A)),C=(v,A)=>{const le=w.value?w.value:Be(new Date);w.value=Ne(le,v,T.value(A)),n("auto-apply"),n("update-flow-step")},y=(v,A)=>{const le=f(v,A);p.value.fixedEnd||p.value.fixedStart?w.value=vn(le,w,n,p):w.value?z(le,w.value)&&(w.value=It(w,f(v,A),n)):w.value=[f(v,A)],e.nextTick().then(()=>{dt(w.value,n,t.autoApply,t.modelAuto)})},q=(v,A)=>{Ot(f(v,A),w,B.value.limit),n("auto-apply",!0)},V=(v,A)=>(S.value[A].month=v,U(A,S.value[A].year,v),B.value.enabled?q(v,A):p.value.enabled?y(v,A):C(v,A)),g=(v,A)=>{Y(v,A),U(A,v,null)},U=(v,A,le)=>{let d=le;if(!d&&d!==0){const ee=te();d=Array.isArray(ee)?ee[v].month:ee.month}n("update-month-year",{instance:v,year:A,month:d})};return{groupedMonths:O,groupedYears:_,year:T,isDisabled:re,defaultedMultiCalendars:o,defaultedAriaLabels:r,defaultedTransitions:a,defaultedConfig:m,showYearPicker:W,modelValue:w,presetDate:(v,A)=>{wn({value:v,modelValue:w,range:p.value.enabled,timezone:A?void 0:E.value.timezone}),n("auto-apply")},setHoverDate:(v,A)=>{P.value=f(v,A)},selectMonth:V,selectYear:g,toggleYearPicker:I,handleYearSelect:G,handleYear:b,getModelMonthYear:te}},Ra=e.defineComponent({compatConfig:{MODE:3},__name:"MonthPicker",props:{...Te},emits:["update:internal-model-value","overlay-closed","reset-flow","range-start","range-end","auto-apply","update-month-year","update-flow-step","mount","invalid-fixed-range"],setup(t,{expose:n,emit:o}){const r=o,a=e.useSlots(),m=Me(a,"yearMode"),p=t;e.onMounted(()=>{p.shadow||r("mount",null)});const{groupedMonths:i,groupedYears:N,year:E,isDisabled:k,defaultedMultiCalendars:B,defaultedConfig:w,showYearPicker:T,modelValue:L,presetDate:S,setHoverDate:K,selectMonth:P,selectYear:z,toggleYearPicker:Y,handleYearSelect:_,handleYear:W,getModelMonthYear:I}=Pa(p,r);return n({getSidebarProps:()=>({modelValue:L,year:E,getModelMonthYear:I,selectMonth:P,selectYear:z,handleYear:W}),presetDate:S,toggleYearPicker:b=>Y(0,b)}),(b,re)=>(e.openBlock(),e.createBlock(ct,{"multi-calendars":e.unref(B).count,collapse:b.collapse,stretch:""},{default:e.withCtx(({instance:ne})=>[b.$slots["top-extra"]?e.renderSlot(b.$slots,"top-extra",{key:0,value:b.internalModelValue}):e.createCommentVNode("",!0),b.$slots["month-year"]?e.renderSlot(b.$slots,"month-year",e.normalizeProps(e.mergeProps({key:1},{year:e.unref(E),months:e.unref(i)(ne),years:e.unref(N)(ne),selectMonth:e.unref(P),selectYear:e.unref(z),instance:ne}))):(e.openBlock(),e.createBlock(Ze,{key:2,items:e.unref(i)(ne),"arrow-navigation":b.arrowNavigation,"is-last":b.autoApply&&!e.unref(w).keepActionRow,"esc-close":b.escClose,height:e.unref(w).modeHeight,config:b.config,"no-overlay-focus":!!(b.noOverlayFocus||b.textInput),"use-relative":"",type:"month",onSelected:te=>e.unref(P)(te,ne),onHoverValue:te=>e.unref(K)(te,ne)},e.createSlots({header:e.withCtx(()=>[e.createVNode(bn,e.mergeProps(b.$props,{items:e.unref(N)(ne),instance:ne,"show-year-picker":e.unref(T)[ne],year:e.unref(E)(ne),"is-disabled":te=>e.unref(k)(ne,te),onHandleYear:te=>e.unref(W)(ne,te),onYearSelect:te=>e.unref(_)(te,ne),onToggleYearPicker:te=>e.unref(Y)(ne,te==null?void 0:te.flow,te==null?void 0:te.show)}),e.createSlots({_:2},[e.renderList(e.unref(m),(te,R)=>({name:te,fn:e.withCtx(H=>[e.renderSlot(b.$slots,te,e.normalizeProps(e.guardReactiveProps(H)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),_:2},[b.$slots["month-overlay-value"]?{name:"item",fn:e.withCtx(({item:te})=>[e.renderSlot(b.$slots,"month-overlay-value",{text:te.text,value:te.value})]),key:"0"}:void 0]),1032,["items","arrow-navigation","is-last","esc-close","height","config","no-overlay-focus","onSelected","onHoverValue"]))]),_:3},8,["multi-calendars","collapse"]))}}),Na=(t,n)=>{const{modelValue:o}=Je(t,n),r=e.ref(null),{defaultedHighlight:a,defaultedMultiDates:m,defaultedFilters:p,defaultedRange:i,propDates:N}=me(t),E=e.ref();e.onMounted(()=>{t.startDate&&(o.value&&t.focusStartDate||!o.value)&&(E.value=s.getYear(j(t.startDate)))});const k=K=>Array.isArray(o.value)?o.value.some(P=>s.getYear(P)===K):o.value?s.getYear(o.value)===K:!1,B=K=>i.value.enabled&&Array.isArray(o.value)?lt(o.value,r.value,T(K)):!1,w=e.computed(()=>Ue(Mt(t.yearRange,t.locale,t.reverseYears),K=>{const P=k(K.value),z=Qe(K.value,je(N.value.minDate),je(N.value.maxDate))||p.value.years.includes(K.value),Y=B(K.value)&&!P,_=Rt(a.value,K.value);return{active:P,disabled:z,isBetween:Y,highlighted:_}})),T=K=>s.setYear(Be(new Date),K);return{groupedYears:w,modelValue:o,focusYear:E,setHoverValue:K=>{r.value=s.setYear(Be(new Date),K)},selectYear:K=>{var P;if(n("update-month-year",{instance:0,year:K}),m.value.enabled)return o.value?Array.isArray(o.value)&&(((P=o.value)==null?void 0:P.map(Y=>s.getYear(Y))).includes(K)?o.value=o.value.filter(Y=>s.getYear(Y)!==K):o.value.push(s.setYear(ve(j()),K))):o.value=[s.setYear(ve(j()),K)],n("auto-apply",!0);i.value.enabled?(o.value=It(o,T(K),n),e.nextTick().then(()=>{dt(o.value,n,t.autoApply,t.modelAuto)})):(o.value=T(K),n("auto-apply"))}}},Ea=e.defineComponent({compatConfig:{MODE:3},__name:"YearPicker",props:{...Te},emits:["update:internal-model-value","reset-flow","range-start","range-end","auto-apply","update-month-year"],setup(t,{expose:n,emit:o}){const r=o,a=t,{groupedYears:m,modelValue:p,focusYear:i,selectYear:N,setHoverValue:E}=Na(a,r),{defaultedConfig:k}=me(a);return n({getSidebarProps:()=>({modelValue:p,selectYear:N})}),(w,T)=>(e.openBlock(),e.createElementBlock("div",null,[w.$slots["top-extra"]?e.renderSlot(w.$slots,"top-extra",{key:0,value:w.internalModelValue}):e.createCommentVNode("",!0),w.$slots["month-year"]?e.renderSlot(w.$slots,"month-year",e.normalizeProps(e.mergeProps({key:1},{years:e.unref(m),selectYear:e.unref(N)}))):(e.openBlock(),e.createBlock(Ze,{key:2,items:e.unref(m),"is-last":w.autoApply&&!e.unref(k).keepActionRow,height:e.unref(k).modeHeight,config:w.config,"no-overlay-focus":!!(w.noOverlayFocus||w.textInput),"focus-value":e.unref(i),type:"year","use-relative":"",onSelected:e.unref(N),onHoverValue:e.unref(E)},e.createSlots({_:2},[w.$slots["year-overlay-value"]?{name:"item",fn:e.withCtx(({item:L})=>[e.renderSlot(w.$slots,"year-overlay-value",{text:L.text,value:L.value})]),key:"0"}:void 0]),1032,["items","is-last","height","config","no-overlay-focus","focus-value","onSelected","onHoverValue"]))]))}}),_a={key:0,class:"dp__time_input"},Va=["data-test","aria-label","onKeydown","onClick"],Ya=e.createElementVNode("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),Oa=e.createElementVNode("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),Ia=["aria-label","disabled","data-test","onKeydown","onClick"],za=["data-test","aria-label","onKeydown","onClick"],La=e.createElementVNode("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),Ka=e.createElementVNode("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),Ha={key:0},Wa=["aria-label","onKeydown"],Ua=e.defineComponent({compatConfig:{MODE:3},__name:"TimeInput",props:{hours:{type:Number,default:0},minutes:{type:Number,default:0},seconds:{type:Number,default:0},closeTimePickerBtn:{type:Object,default:null},order:{type:Number,default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...Te},emits:["set-hours","set-minutes","update:hours","update:minutes","update:seconds","reset-flow","mounted","overlay-closed","am-pm-change"],setup(t,{expose:n,emit:o}){const r=o,a=t,{setTimePickerElements:m,setTimePickerBackRef:p}=Ye(),{defaultedAriaLabels:i,defaultedTransitions:N,defaultedFilters:E,defaultedConfig:k,defaultedRange:B}=me(a),{transitionName:w,showTransition:T}=Xe(N),L=e.reactive({hours:!1,minutes:!1,seconds:!1}),S=e.ref("AM"),K=e.ref(null),P=e.ref([]);e.onMounted(()=>{r("mounted")});const z=l=>s.set(new Date,{hours:l.hours,minutes:l.minutes,seconds:a.enableSeconds?l.seconds:0,milliseconds:0}),Y=e.computed(()=>l=>O(l,a[l])||W(l,a[l])),_=e.computed(()=>({hours:a.hours,minutes:a.minutes,seconds:a.seconds})),W=(l,$)=>B.value.enabled&&!B.value.disableTimeRangeValidation?!a.validateTime(l,$):!1,I=(l,$)=>{if(B.value.enabled&&!B.value.disableTimeRangeValidation){const X=$?+a[`${l}Increment`]:-+a[`${l}Increment`],Q=a[l]+X;return!a.validateTime(l,Q)}return!1},G=e.computed(()=>l=>!V(+a[l]+ +a[`${l}Increment`],l)||I(l,!0)),b=e.computed(()=>l=>!V(+a[l]-+a[`${l}Increment`],l)||I(l,!1)),re=(l,$)=>s.add(s.set(j(),l),$),ne=(l,$)=>s.sub(s.set(j(),l),$),te=e.computed(()=>({dp__time_col:!0,dp__time_col_block:!a.timePickerInline,dp__time_col_reg_block:!a.enableSeconds&&a.is24&&!a.timePickerInline,dp__time_col_reg_inline:!a.enableSeconds&&a.is24&&a.timePickerInline,dp__time_col_reg_with_button:!a.enableSeconds&&!a.is24,dp__time_col_sec:a.enableSeconds&&a.is24,dp__time_col_sec_with_button:a.enableSeconds&&!a.is24})),R=e.computed(()=>{const l=[{type:"hours"}];return a.enableMinutes&&l.push({type:"",separator:!0},{type:"minutes"}),a.enableSeconds&&l.push({type:"",separator:!0},{type:"seconds"}),l}),H=e.computed(()=>R.value.filter(l=>!l.separator)),J=e.computed(()=>l=>{if(l==="hours"){const $=v(+a.hours);return{text:$<10?`0${$}`:`${$}`,value:$}}return{text:a[l]<10?`0${a[l]}`:`${a[l]}`,value:a[l]}}),O=(l,$)=>{var Q;if(!a.disabledTimesConfig)return!1;const X=a.disabledTimesConfig(a.order,l==="hours"?$:void 0);return X[l]?!!((Q=X[l])!=null&&Q.includes($)):!0},f=(l,$)=>$!=="hours"||S.value==="AM"?l:l+12,C=l=>{const $=a.is24?24:12,X=l==="hours"?$:60,Q=+a[`${l}GridIncrement`],Z=l==="hours"&&!a.is24?Q:0,h=[];for(let D=Z;D<X;D+=Q)h.push({value:a.is24?D:f(D,l),text:D<10?`0${D}`:`${D}`});return l==="hours"&&!a.is24&&h.push({value:0,text:"12"}),Ue(h,D=>({active:!1,disabled:E.value.times[l].includes(D.value)||!V(D.value,l)||O(l,D.value)||W(l,D.value)}))},y=l=>l>=0?l:59,q=l=>l>=0?l:23,V=(l,$)=>{const X=a.minTime?z(Bt(a.minTime)):null,Q=a.maxTime?z(Bt(a.maxTime)):null,Z=z(Bt(_.value,$,$==="minutes"||$==="seconds"?y(l):q(l)));return X&&Q?(s.isBefore(Z,Q)||s.isEqual(Z,Q))&&(s.isAfter(Z,X)||s.isEqual(Z,X)):X?s.isAfter(Z,X)||s.isEqual(Z,X):Q?s.isBefore(Z,Q)||s.isEqual(Z,Q):!0},g=l=>a[`no${l[0].toUpperCase()+l.slice(1)}Overlay`],U=l=>{g(l)||(L[l]=!L[l],L[l]||r("overlay-closed"))},F=l=>l==="hours"?s.getHours:l==="minutes"?s.getMinutes:s.getSeconds,c=(l,$=!0)=>{const X=$?re:ne,Q=$?+a[`${l}Increment`]:-+a[`${l}Increment`];V(+a[l]+Q,l)&&r(`update:${l}`,F(l)(X({[l]:+a[l]},{[l]:+a[`${l}Increment`]})))},v=l=>a.is24?l:(l>=12?S.value="PM":S.value="AM",Nn(l)),A=()=>{S.value==="PM"?(S.value="AM",r("update:hours",a.hours-12)):(S.value="PM",r("update:hours",a.hours+12)),r("am-pm-change",S.value)},le=l=>{L[l]=!0},d=(l,$,X)=>{if(l&&a.arrowNavigation){Array.isArray(P.value[$])?P.value[$][X]=l:P.value[$]=[l];const Q=P.value.reduce((Z,h)=>h.map((D,ie)=>[...Z[ie]||[],h[ie]]),[]);p(a.closeTimePickerBtn),K.value&&(Q[1]=Q[1].concat(K.value)),m(Q,a.order)}},ee=(l,$)=>(U(l),r(`update:${l}`,$));return n({openChildCmp:le}),(l,$)=>{var X;return l.disabled?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",_a,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(R.value,(Q,Z)=>{var h,D,ie;return e.openBlock(),e.createElementBlock("div",{key:Z,class:e.normalizeClass(te.value)},[Q.separator?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createTextVNode(" : ")],64)):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createElementVNode("button",{ref_for:!0,ref:se=>d(se,Z,0),type:"button",class:e.normalizeClass({dp__btn:!0,dp__inc_dec_button:!l.timePickerInline,dp__inc_dec_button_inline:l.timePickerInline,dp__tp_inline_btn_top:l.timePickerInline,dp__inc_dec_button_disabled:G.value(Q.type)}),"data-test":`${Q.type}-time-inc-btn-${a.order}`,"aria-label":(h=e.unref(i))==null?void 0:h.incrementValue(Q.type),tabindex:"0",onKeydown:[e.withKeys(e.withModifiers(se=>c(Q.type),["prevent"]),["enter"]),e.withKeys(e.withModifiers(se=>c(Q.type),["prevent"]),["space"])],onClick:se=>c(Q.type)},[a.timePickerInline?(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[Ya,Oa],64)):(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[l.$slots["arrow-up"]?e.renderSlot(l.$slots,"arrow-up",{key:0}):e.createCommentVNode("",!0),l.$slots["arrow-up"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(bt),{key:1}))],64))],42,Va),e.createElementVNode("button",{ref_for:!0,ref:se=>d(se,Z,1),type:"button","aria-label":(D=e.unref(i))==null?void 0:D.openTpOverlay(Q.type),class:e.normalizeClass({dp__time_display:!0,dp__time_display_block:!l.timePickerInline,dp__time_display_inline:l.timePickerInline,"dp--time-invalid":Y.value(Q.type),"dp--time-overlay-btn":!Y.value(Q.type)}),disabled:g(Q.type),tabindex:"0","data-test":`${Q.type}-toggle-overlay-btn-${a.order}`,onKeydown:[e.withKeys(e.withModifiers(se=>U(Q.type),["prevent"]),["enter"]),e.withKeys(e.withModifiers(se=>U(Q.type),["prevent"]),["space"])],onClick:se=>U(Q.type)},[l.$slots[Q.type]?e.renderSlot(l.$slots,Q.type,{key:0,text:J.value(Q.type).text,value:J.value(Q.type).value}):e.createCommentVNode("",!0),l.$slots[Q.type]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(J.value(Q.type).text),1)],64))],42,Ia),e.createElementVNode("button",{ref_for:!0,ref:se=>d(se,Z,2),type:"button",class:e.normalizeClass({dp__btn:!0,dp__inc_dec_button:!l.timePickerInline,dp__inc_dec_button_inline:l.timePickerInline,dp__tp_inline_btn_bottom:l.timePickerInline,dp__inc_dec_button_disabled:b.value(Q.type)}),"data-test":`${Q.type}-time-dec-btn-${a.order}`,"aria-label":(ie=e.unref(i))==null?void 0:ie.decrementValue(Q.type),tabindex:"0",onKeydown:[e.withKeys(e.withModifiers(se=>c(Q.type,!1),["prevent"]),["enter"]),e.withKeys(e.withModifiers(se=>c(Q.type,!1),["prevent"]),["space"])],onClick:se=>c(Q.type,!1)},[a.timePickerInline?(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[La,Ka],64)):(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[l.$slots["arrow-down"]?e.renderSlot(l.$slots,"arrow-down",{key:0}):e.createCommentVNode("",!0),l.$slots["arrow-down"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(wt),{key:1}))],64))],42,za)],64))],2)}),128)),l.is24?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",Ha,[l.$slots["am-pm-button"]?e.renderSlot(l.$slots,"am-pm-button",{key:0,toggle:A,value:S.value}):e.createCommentVNode("",!0),l.$slots["am-pm-button"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("button",{key:1,ref_key:"amPmButton",ref:K,type:"button",class:"dp__pm_am_button",role:"button","aria-label":(X=e.unref(i))==null?void 0:X.amPmButton,tabindex:"0",onClick:A,onKeydown:[e.withKeys(e.withModifiers(A,["prevent"]),["enter"]),e.withKeys(e.withModifiers(A,["prevent"]),["space"])]},e.toDisplayString(S.value),41,Wa))])),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(H.value,(Q,Z)=>(e.openBlock(),e.createBlock(e.Transition,{key:Z,name:e.unref(w)(L[Q.type]),css:e.unref(T)},{default:e.withCtx(()=>[L[Q.type]?(e.openBlock(),e.createBlock(Ze,{key:0,items:C(Q.type),"is-last":l.autoApply&&!e.unref(k).keepActionRow,"esc-close":l.escClose,type:Q.type,"text-input":l.textInput,config:l.config,"arrow-navigation":l.arrowNavigation,"aria-labels":l.ariaLabels,onSelected:h=>ee(Q.type,h),onToggle:h=>U(Q.type),onResetFlow:$[0]||($[0]=h=>l.$emit("reset-flow"))},e.createSlots({"button-icon":e.withCtx(()=>[l.$slots["clock-icon"]?e.renderSlot(l.$slots,"clock-icon",{key:0}):e.createCommentVNode("",!0),l.$slots["clock-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.resolveDynamicComponent(l.timePickerInline?e.unref(We):e.unref(kt)),{key:1}))]),_:2},[l.$slots[`${Q.type}-overlay-value`]?{name:"item",fn:e.withCtx(({item:h})=>[e.renderSlot(l.$slots,`${Q.type}-overlay-value`,{text:h.text,value:h.value})]),key:"0"}:void 0]),1032,["items","is-last","esc-close","type","text-input","config","arrow-navigation","aria-labels","onSelected","onToggle"])):e.createCommentVNode("",!0)]),_:2},1032,["name","css"]))),128))]))}}}),ja={class:"dp--tp-wrap"},xa=["aria-label","tabindex"],qa=["tabindex"],Qa=["aria-label"],Sn=e.defineComponent({compatConfig:{MODE:3},__name:"TimePicker",props:{hours:{type:[Number,Array],default:0},minutes:{type:[Number,Array],default:0},seconds:{type:[Number,Array],default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...Te},emits:["update:hours","update:minutes","update:seconds","mount","reset-flow","overlay-opened","overlay-closed","am-pm-change"],setup(t,{expose:n,emit:o}){const r=o,a=t,{buildMatrix:m,setTimePicker:p}=Ye(),i=e.useSlots(),{defaultedTransitions:N,defaultedAriaLabels:E,defaultedTextInput:k,defaultedConfig:B,defaultedRange:w}=me(a),{transitionName:T,showTransition:L}=Xe(N),{hideNavigationButtons:S}=it(),K=e.ref(null),P=e.ref(null),z=e.ref([]),Y=e.ref(null);e.onMounted(()=>{r("mount"),!a.timePicker&&a.arrowNavigation?m([ke(K.value)],"time"):p(!0,a.timePicker)});const _=e.computed(()=>w.value.enabled&&a.modelAuto?tn(a.internalModelValue):!0),W=e.ref(!1),I=f=>({hours:Array.isArray(a.hours)?a.hours[f]:a.hours,minutes:Array.isArray(a.minutes)?a.minutes[f]:a.minutes,seconds:Array.isArray(a.seconds)?a.seconds[f]:a.seconds}),G=e.computed(()=>{const f=[];if(w.value.enabled)for(let C=0;C<2;C++)f.push(I(C));else f.push(I(0));return f}),b=(f,C=!1,y="")=>{C||r("reset-flow"),W.value=f,r(f?"overlay-opened":"overlay-closed"),a.arrowNavigation&&p(f),e.nextTick(()=>{y!==""&&z.value[0]&&z.value[0].openChildCmp(y)})},re=e.computed(()=>({dp__btn:!0,dp__button:!0,dp__button_bottom:a.autoApply&&!B.value.keepActionRow})),ne=Me(i,"timePicker"),te=(f,C,y)=>w.value.enabled?C===0?[f,G.value[1][y]]:[G.value[0][y],f]:f,R=f=>{r("update:hours",f)},H=f=>{r("update:minutes",f)},J=f=>{r("update:seconds",f)},O=()=>{if(Y.value&&!k.value.enabled&&!a.noOverlayFocus){const f=rn(Y.value);f&&f.focus({preventScroll:!0})}};return n({toggleTimePicker:b}),(f,C)=>{var y;return e.openBlock(),e.createElementBlock("div",ja,[!f.timePicker&&!f.timePickerInline?e.withDirectives((e.openBlock(),e.createElementBlock("button",{key:0,ref_key:"openTimePickerBtn",ref:K,type:"button",class:e.normalizeClass(re.value),"aria-label":(y=e.unref(E))==null?void 0:y.openTimePicker,tabindex:f.noOverlayFocus?void 0:0,"data-test":"open-time-picker-btn",onKeydown:[C[0]||(C[0]=e.withKeys(q=>b(!0),["enter"])),C[1]||(C[1]=e.withKeys(q=>b(!0),["space"]))],onClick:C[2]||(C[2]=q=>b(!0))},[f.$slots["clock-icon"]?e.renderSlot(f.$slots,"clock-icon",{key:0}):e.createCommentVNode("",!0),f.$slots["clock-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(kt),{key:1}))],42,xa)),[[e.vShow,!e.unref(S)(f.hideNavigation,"time")]]):e.createCommentVNode("",!0),e.createVNode(e.Transition,{name:e.unref(T)(W.value),css:e.unref(L)&&!f.timePickerInline},{default:e.withCtx(()=>{var q;return[W.value||f.timePicker||f.timePickerInline?(e.openBlock(),e.createElementBlock("div",{key:0,ref_key:"overlayRef",ref:Y,class:e.normalizeClass({dp__overlay:!f.timePickerInline,"dp--overlay-absolute":!a.timePicker&&!f.timePickerInline,"dp--overlay-relative":a.timePicker}),style:e.normalizeStyle(f.timePicker?{height:`${e.unref(B).modeHeight}px`}:void 0),tabindex:f.timePickerInline?void 0:0},[e.createElementVNode("div",{class:e.normalizeClass(f.timePickerInline?"dp__time_picker_inline_container":"dp__overlay_container dp__container_flex dp__time_picker_overlay_container"),style:{display:"flex"}},[f.$slots["time-picker-overlay"]?e.renderSlot(f.$slots,"time-picker-overlay",{key:0,hours:t.hours,minutes:t.minutes,seconds:t.seconds,setHours:R,setMinutes:H,setSeconds:J}):e.createCommentVNode("",!0),f.$slots["time-picker-overlay"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",{key:1,class:e.normalizeClass(f.timePickerInline?"dp__flex":"dp__overlay_row dp__flex_row")},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(G.value,(V,g)=>e.withDirectives((e.openBlock(),e.createBlock(Ua,e.mergeProps({key:g},{...f.$props,order:g,hours:V.hours,minutes:V.minutes,seconds:V.seconds,closeTimePickerBtn:P.value,disabledTimesConfig:t.disabledTimesConfig,disabled:g===0?f.fixedStart:f.fixedEnd},{ref_for:!0,ref_key:"timeInputRefs",ref:z,"validate-time":(U,F)=>t.validateTime(U,te(F,g,U)),"onUpdate:hours":U=>R(te(U,g,"hours")),"onUpdate:minutes":U=>H(te(U,g,"minutes")),"onUpdate:seconds":U=>J(te(U,g,"seconds")),onMounted:O,onOverlayClosed:O,onAmPmChange:C[3]||(C[3]=U=>f.$emit("am-pm-change",U))}),e.createSlots({_:2},[e.renderList(e.unref(ne),(U,F)=>({name:U,fn:e.withCtx(c=>[e.renderSlot(f.$slots,U,e.normalizeProps(e.guardReactiveProps(c)))])}))]),1040,["validate-time","onUpdate:hours","onUpdate:minutes","onUpdate:seconds"])),[[e.vShow,g===0?!0:_.value]])),128))],2)),!f.timePicker&&!f.timePickerInline?e.withDirectives((e.openBlock(),e.createElementBlock("button",{key:2,ref_key:"closeTimePickerBtn",ref:P,type:"button",class:e.normalizeClass(re.value),"aria-label":(q=e.unref(E))==null?void 0:q.closeTimePicker,tabindex:"0",onKeydown:[C[4]||(C[4]=e.withKeys(V=>b(!1),["enter"])),C[5]||(C[5]=e.withKeys(V=>b(!1),["space"]))],onClick:C[6]||(C[6]=V=>b(!1))},[f.$slots["calendar-icon"]?e.renderSlot(f.$slots,"calendar-icon",{key:0}):e.createCommentVNode("",!0),f.$slots["calendar-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(We),{key:1}))],42,Qa)),[[e.vShow,!e.unref(S)(f.hideNavigation,"time")]]):e.createCommentVNode("",!0)],2)],14,qa)):e.createCommentVNode("",!0)]}),_:3},8,["name","css"])])}}}),Dn=(t,n,o,r)=>{const{defaultedRange:a}=me(t),m=(Y,_)=>Array.isArray(n[Y])?n[Y][_]:n[Y],p=Y=>t.enableSeconds?Array.isArray(n.seconds)?n.seconds[Y]:n.seconds:0,i=(Y,_)=>Y?_!==void 0?_e(Y,m("hours",_),m("minutes",_),p(_)):_e(Y,n.hours,n.minutes,p()):s.setSeconds(j(),p(_)),N=(Y,_)=>{n[Y]=_},E=e.computed(()=>t.modelAuto&&a.value.enabled?Array.isArray(o.value)?o.value.length>1:!1:a.value.enabled),k=(Y,_)=>{const W=Object.fromEntries(Object.keys(n).map(I=>I===Y?[I,_]:[I,n[I]].slice()));if(E.value&&!a.value.disableTimeRangeValidation){const I=b=>o.value?_e(o.value[b],W.hours[b],W.minutes[b],W.seconds[b]):null,G=b=>s.setMilliseconds(o.value[b],0);return!(ue(I(0),I(1))&&(s.isAfter(I(0),G(1))||s.isBefore(I(1),G(0))))}return!0},B=(Y,_)=>{k(Y,_)&&(N(Y,_),r&&r())},w=Y=>{B("hours",Y)},T=Y=>{B("minutes",Y)},L=Y=>{B("seconds",Y)},S=(Y,_,W,I)=>{_&&w(Y),!_&&!W&&T(Y),W&&L(Y),o.value&&I(o.value)},K=Y=>{if(Y){const _=Array.isArray(Y),W=_?[+Y[0].hours,+Y[1].hours]:+Y.hours,I=_?[+Y[0].minutes,+Y[1].minutes]:+Y.minutes,G=_?[+Y[0].seconds,+Y[1].seconds]:+Y.seconds;N("hours",W),N("minutes",I),t.enableSeconds&&N("seconds",G)}},P=(Y,_)=>{const W={hours:Array.isArray(n.hours)?n.hours[Y]:n.hours,disabledArr:[]};return(_||_===0)&&(W.hours=_),Array.isArray(t.disabledTimes)&&(W.disabledArr=a.value.enabled&&Array.isArray(t.disabledTimes[Y])?t.disabledTimes[Y]:t.disabledTimes),W},z=e.computed(()=>(Y,_)=>{var W;if(Array.isArray(t.disabledTimes)){const{disabledArr:I,hours:G}=P(Y,_),b=I.filter(re=>+re.hours===G);return((W=b[0])==null?void 0:W.minutes)==="*"?{hours:[G],minutes:void 0,seconds:void 0}:{hours:[],minutes:(b==null?void 0:b.map(re=>+re.minutes))??[],seconds:(b==null?void 0:b.map(re=>re.seconds?+re.seconds:void 0))??[]}}return{hours:[],minutes:[],seconds:[]}});return{setTime:N,updateHours:w,updateMinutes:T,updateSeconds:L,getSetDateTime:i,updateTimeValues:S,getSecondsValue:p,assignStartTime:K,validateTime:k,disabledTimesConfig:z}},Ga=(t,n)=>{const{modelValue:o,time:r}=Je(t,n),{defaultedStartTime:a,defaultedRange:m}=me(t),{updateTimeValues:p,getSetDateTime:i,setTime:N,assignStartTime:E,disabledTimesConfig:k,validateTime:B}=Dn(t,r,o),w=_=>{const{hours:W,minutes:I,seconds:G}=_;return{hours:+W,minutes:+I,seconds:G?+G:0}},T=()=>{if(t.startTime){if(Array.isArray(t.startTime)){const W=w(t.startTime[0]),I=w(t.startTime[1]);return[s.set(j(),W),s.set(j(),I)]}const _=w(t.startTime);return s.set(j(),_)}return m.value.enabled?[null,null]:null},L=()=>{if(m.value.enabled){const[_,W]=T();o.value=[i(_,0),i(W,1)]}else o.value=i(T())},S=_=>Array.isArray(_)?[ze(j(_[0])),ze(j(_[1]))]:[ze(_??j())],K=(_,W,I)=>{N("hours",_),N("minutes",W),N("seconds",t.enableSeconds?I:0)},P=()=>{const[_,W]=S(o.value);return m.value.enabled?K([_.hours,W.hours],[_.minutes,W.minutes],[_.seconds,W.seconds]):K(_.hours,_.minutes,_.seconds)};e.onMounted(()=>{if(!t.shadow)return E(a.value),o.value?P():L()});const z=()=>{Array.isArray(o.value)?o.value=o.value.map((_,W)=>_&&i(_,W)):o.value=i(o.value),n("time-update")};return{modelValue:o,time:r,disabledTimesConfig:k,updateTime:(_,W=!0,I=!1)=>{p(_,W,I,z)},validateTime:B}},Xa=e.defineComponent({compatConfig:{MODE:3},__name:"TimePickerSolo",props:{...Te},emits:["update:internal-model-value","time-update","am-pm-change"],setup(t,{expose:n,emit:o}){const r=o,a=t,m=e.useSlots(),p=Me(m,"timePicker"),{time:i,modelValue:N,disabledTimesConfig:E,updateTime:k,validateTime:B}=Ga(a,r);return n({getSidebarProps:()=>({modelValue:N,time:i,updateTime:k})}),(T,L)=>(e.openBlock(),e.createBlock(ct,{"multi-calendars":0,stretch:""},{default:e.withCtx(()=>[e.createVNode(Sn,e.mergeProps(T.$props,{hours:e.unref(i).hours,minutes:e.unref(i).minutes,seconds:e.unref(i).seconds,"internal-model-value":T.internalModelValue,"disabled-times-config":e.unref(E),"validate-time":e.unref(B),"onUpdate:hours":L[0]||(L[0]=S=>e.unref(k)(S)),"onUpdate:minutes":L[1]||(L[1]=S=>e.unref(k)(S,!1)),"onUpdate:seconds":L[2]||(L[2]=S=>e.unref(k)(S,!1,!0)),onAmPmChange:L[3]||(L[3]=S=>T.$emit("am-pm-change",S))}),e.createSlots({_:2},[e.renderList(e.unref(p),(S,K)=>({name:S,fn:e.withCtx(P=>[e.renderSlot(T.$slots,S,e.normalizeProps(e.guardReactiveProps(P)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"])]),_:3}))}}),Ja={class:"dp--header-wrap"},Za={key:0,class:"dp__month_year_wrap"},Fa={key:0},er={class:"dp__month_year_wrap"},tr=["aria-label","data-test","onClick","onKeydown"],nr=e.defineComponent({compatConfig:{MODE:3},__name:"DpHeader",props:{month:{type:Number,default:0},year:{type:Number,default:0},instance:{type:Number,default:0},years:{type:Array,default:()=>[]},months:{type:Array,default:()=>[]},...Te},emits:["update-month-year","mount","reset-flow","overlay-closed"],setup(t,{expose:n,emit:o}){const r=o,a=t,{defaultedTransitions:m,defaultedAriaLabels:p,defaultedMultiCalendars:i,defaultedFilters:N,defaultedConfig:E,defaultedHighlight:k,propDates:B}=me(a),{transitionName:w,showTransition:T}=Xe(m),{buildMatrix:L}=Ye(),{handleMonthYearChange:S,isDisabled:K,updateMonthYear:P}=ca(a,r),{showLeftIcon:z,showRightIcon:Y}=it(),_=e.ref(!1),W=e.ref(!1),I=e.ref([null,null,null,null]);e.onMounted(()=>{r("mount")});const G=g=>({get:()=>a[g],set:U=>{const F=g===$e.month?$e.year:$e.month;r("update-month-year",{[g]:U,[F]:a[F]}),g===$e.month?O(!0):f(!0)}}),b=e.computed(G($e.month)),re=e.computed(G($e.year)),ne=e.computed(()=>g=>({month:a.month,year:a.year,items:g===$e.month?a.months:a.years,instance:a.instance,updateMonthYear:P,toggle:g===$e.month?O:f})),te=e.computed(()=>{const g=a.months.find(U=>U.value===a.month);return g||{text:"",value:0}}),R=e.computed(()=>Ue(a.months,g=>{const U=a.month===g.value,F=Qe(g.value,sn(a.year,B.value.minDate),un(a.year,B.value.maxDate))||N.value.months.includes(g.value),c=gn(k.value,g.value,a.year);return{active:U,disabled:F,highlighted:c}})),H=e.computed(()=>Ue(a.years,g=>{const U=a.year===g.value,F=Qe(g.value,je(B.value.minDate),je(B.value.maxDate))||N.value.years.includes(g.value),c=Rt(k.value,g.value);return{active:U,disabled:F,highlighted:c}})),J=(g,U)=>{U!==void 0?g.value=U:g.value=!g.value,g.value||r("overlay-closed")},O=(g=!1,U)=>{C(g),J(_,U)},f=(g=!1,U)=>{C(g),J(W,U)},C=g=>{g||r("reset-flow")},y=(g,U)=>{a.arrowNavigation&&(I.value[U]=ke(g),L(I.value,"monthYear"))},q=e.computed(()=>{var g,U;return[{type:$e.month,index:1,toggle:O,modelValue:b.value,updateModelValue:F=>b.value=F,text:te.value.text,showSelectionGrid:_.value,items:R.value,ariaLabel:(g=p.value)==null?void 0:g.openMonthsOverlay},{type:$e.year,index:2,toggle:f,modelValue:re.value,updateModelValue:F=>re.value=F,text:ln(a.year,a.locale),showSelectionGrid:W.value,items:H.value,ariaLabel:(U=p.value)==null?void 0:U.openYearsOverlay}]}),V=e.computed(()=>a.disableYearSelect?[q.value[0]]:a.yearFirst?[...q.value].reverse():q.value);return n({toggleMonthPicker:O,toggleYearPicker:f,handleMonthYearChange:S}),(g,U)=>{var F,c,v;return e.openBlock(),e.createElementBlock("div",Ja,[g.$slots["month-year"]?(e.openBlock(),e.createElementBlock("div",Za,[e.renderSlot(g.$slots,"month-year",e.normalizeProps(e.guardReactiveProps({month:t.month,year:t.year,months:t.months,years:t.years,updateMonthYear:e.unref(P),handleMonthYearChange:e.unref(S),instance:t.instance})))])):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[g.$slots["top-extra"]?(e.openBlock(),e.createElementBlock("div",Fa,[e.renderSlot(g.$slots,"top-extra",{value:g.internalModelValue})])):e.createCommentVNode("",!0),e.createElementVNode("div",er,[e.unref(z)(e.unref(i),t.instance)&&!g.vertical?(e.openBlock(),e.createBlock(Fe,{key:0,"aria-label":(F=e.unref(p))==null?void 0:F.prevMonth,disabled:e.unref(K)(!1),onActivate:U[0]||(U[0]=A=>e.unref(S)(!1,!0)),onSetRef:U[1]||(U[1]=A=>y(A,0))},{default:e.withCtx(()=>[g.$slots["arrow-left"]?e.renderSlot(g.$slots,"arrow-left",{key:0}):e.createCommentVNode("",!0),g.$slots["arrow-left"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(yt),{key:1}))]),_:3},8,["aria-label","disabled"])):e.createCommentVNode("",!0),e.createElementVNode("div",{class:e.normalizeClass(["dp__month_year_wrap",{dp__year_disable_select:g.disableYearSelect}])},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(V.value,(A,le)=>(e.openBlock(),e.createElementBlock(e.Fragment,{key:A.type},[e.createElementVNode("button",{ref_for:!0,ref:d=>y(d,le+1),type:"button",class:"dp__btn dp__month_year_select",tabindex:"0","aria-label":A.ariaLabel,"data-test":`${A.type}-toggle-overlay-${t.instance}`,onClick:A.toggle,onKeydown:[e.withKeys(e.withModifiers(A.toggle,["prevent"]),["enter"]),e.withKeys(e.withModifiers(A.toggle,["prevent"]),["space"])]},[g.$slots[A.type]?e.renderSlot(g.$slots,A.type,{key:0,text:A.text,value:a[A.type]}):e.createCommentVNode("",!0),g.$slots[A.type]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(A.text),1)],64))],40,tr),e.createVNode(e.Transition,{name:e.unref(w)(A.showSelectionGrid),css:e.unref(T)},{default:e.withCtx(()=>[A.showSelectionGrid?(e.openBlock(),e.createBlock(Ze,{key:0,items:A.items,"arrow-navigation":g.arrowNavigation,"hide-navigation":g.hideNavigation,"is-last":g.autoApply&&!e.unref(E).keepActionRow,"skip-button-ref":!1,config:g.config,type:A.type,"header-refs":[],"esc-close":g.escClose,"menu-wrap-ref":g.menuWrapRef,"text-input":g.textInput,"aria-labels":g.ariaLabels,onSelected:A.updateModelValue,onToggle:A.toggle},e.createSlots({"button-icon":e.withCtx(()=>[g.$slots["calendar-icon"]?e.renderSlot(g.$slots,"calendar-icon",{key:0}):e.createCommentVNode("",!0),g.$slots["calendar-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(We),{key:1}))]),_:2},[g.$slots[`${A.type}-overlay-value`]?{name:"item",fn:e.withCtx(({item:d})=>[e.renderSlot(g.$slots,`${A.type}-overlay-value`,{text:d.text,value:d.value})]),key:"0"}:void 0,g.$slots[`${A.type}-overlay`]?{name:"overlay",fn:e.withCtx(()=>[e.renderSlot(g.$slots,`${A.type}-overlay`,e.normalizeProps(e.guardReactiveProps(ne.value(A.type))))]),key:"1"}:void 0,g.$slots[`${A.type}-overlay-header`]?{name:"header",fn:e.withCtx(()=>[e.renderSlot(g.$slots,`${A.type}-overlay-header`,{toggle:A.toggle})]),key:"2"}:void 0]),1032,["items","arrow-navigation","hide-navigation","is-last","config","type","esc-close","menu-wrap-ref","text-input","aria-labels","onSelected","onToggle"])):e.createCommentVNode("",!0)]),_:2},1032,["name","css"])],64))),128))],2),e.unref(z)(e.unref(i),t.instance)&&g.vertical?(e.openBlock(),e.createBlock(Fe,{key:1,"aria-label":(c=e.unref(p))==null?void 0:c.prevMonth,disabled:e.unref(K)(!1),onActivate:U[2]||(U[2]=A=>e.unref(S)(!1,!0))},{default:e.withCtx(()=>[g.$slots["arrow-up"]?e.renderSlot(g.$slots,"arrow-up",{key:0}):e.createCommentVNode("",!0),g.$slots["arrow-up"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(bt),{key:1}))]),_:3},8,["aria-label","disabled"])):e.createCommentVNode("",!0),e.unref(Y)(e.unref(i),t.instance)?(e.openBlock(),e.createBlock(Fe,{key:2,ref:"rightIcon",disabled:e.unref(K)(!0),"aria-label":(v=e.unref(p))==null?void 0:v.nextMonth,onActivate:U[3]||(U[3]=A=>e.unref(S)(!0,!0)),onSetRef:U[4]||(U[4]=A=>y(A,g.disableYearSelect?2:3))},{default:e.withCtx(()=>[g.$slots[g.vertical?"arrow-down":"arrow-right"]?e.renderSlot(g.$slots,g.vertical?"arrow-down":"arrow-right",{key:0}):e.createCommentVNode("",!0),g.$slots[g.vertical?"arrow-down":"arrow-right"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.resolveDynamicComponent(g.vertical?e.unref(wt):e.unref(ht)),{key:1}))]),_:3},8,["disabled","aria-label"])):e.createCommentVNode("",!0)])],64))])}}}),ar=["aria-label"],rr={class:"dp__calendar_header",role:"row"},lr={key:0,class:"dp__calendar_header_item",role:"gridcell"},or=["aria-label"],sr=e.createElementVNode("div",{class:"dp__calendar_header_separator"},null,-1),ir=["aria-label"],ur={key:0,role:"gridcell",class:"dp__calendar_item dp__week_num"},cr={class:"dp__cell_inner"},dr=["id","aria-selected","aria-disabled","aria-label","data-test","onClick","onKeydown","onMouseenter","onMouseleave","onMousedown"],fr=e.defineComponent({compatConfig:{MODE:3},__name:"DpCalendar",props:{mappedDates:{type:Array,default:()=>[]},instance:{type:Number,default:0},month:{type:Number,default:0},year:{type:Number,default:0},...Te},emits:["select-date","set-hover-date","handle-scroll","mount","handle-swipe","handle-space","tooltip-open","tooltip-close"],setup(t,{expose:n,emit:o}){const r=o,a=t,{buildMultiLevelMatrix:m}=Ye(),{defaultedTransitions:p,defaultedConfig:i,defaultedAriaLabels:N,defaultedMultiCalendars:E,defaultedWeekNumbers:k,defaultedMultiDates:B}=me(a),w=e.ref(null),T=e.ref({bottom:"",left:"",transform:""}),L=e.ref([]),S=e.ref(null),K=e.ref(!0),P=e.ref(""),z=e.ref({startX:0,endX:0,startY:0,endY:0}),Y=e.ref([]),_=e.ref({left:"50%"}),W=e.ref(!1),I=e.computed(()=>a.calendar?a.calendar(a.mappedDates):a.mappedDates),G=e.computed(()=>a.dayNames?Array.isArray(a.dayNames)?a.dayNames:a.dayNames(a.locale,+a.weekStart):Rn(a.formatLocale,a.locale,+a.weekStart));e.onMounted(()=>{r("mount",{cmp:"calendar",refs:L}),i.value.noSwipe||S.value&&(S.value.addEventListener("touchstart",q,{passive:!1}),S.value.addEventListener("touchend",V,{passive:!1}),S.value.addEventListener("touchmove",g,{passive:!1})),a.monthChangeOnScroll&&S.value&&S.value.addEventListener("wheel",c,{passive:!1})});const b=l=>l?a.vertical?"vNext":"next":a.vertical?"vPrevious":"previous",re=(l,$)=>{if(a.transitions){const X=ve(Ne(j(),a.month,a.year));P.value=ge(ve(Ne(j(),l,$)),X)?p.value[b(!0)]:p.value[b(!1)],K.value=!1,e.nextTick(()=>{K.value=!0})}},ne=e.computed(()=>({[a.calendarClassName]:!!a.calendarClassName})),te=e.computed(()=>l=>{const $=En(l);return{dp__marker_dot:$.type==="dot",dp__marker_line:$.type==="line"}}),R=e.computed(()=>l=>ue(l,w.value)),H=e.computed(()=>({dp__calendar:!0,dp__calendar_next:E.value.count>0&&a.instance!==0})),J=e.computed(()=>l=>a.hideOffsetDates?l.current:!0),O=l=>s.format(l,"yyyy-MM-dd"),f=async(l,$,X)=>{const Q=ke(L.value[$][X]);if(Q){const{width:Z,height:h}=Q.getBoundingClientRect();w.value=l.value;let D={left:`${Z/2}px`},ie=-50;if(await e.nextTick(),Y.value[0]){const{left:se,width:we}=Y.value[0].getBoundingClientRect();se<0&&(D={left:"0"},ie=0,_.value.left=`${Z/2}px`),window.innerWidth<se+we&&(D={right:"0"},ie=0,_.value.left=`${we-Z/2}px`)}T.value={bottom:`${h}px`,...D,transform:`translateX(${ie}%)`},r("tooltip-open",l.marker)}},C=async(l,$,X)=>{var Q,Z;if(W.value&&B.value.enabled&&B.value.dragSelect)return r("select-date",l);r("set-hover-date",l),(Z=(Q=l.marker)==null?void 0:Q.tooltip)!=null&&Z.length&&await f(l,$,X)},y=l=>{w.value&&(w.value=null,T.value=JSON.parse(JSON.stringify({bottom:"",left:"",transform:""})),r("tooltip-close",l.marker))},q=l=>{z.value.startX=l.changedTouches[0].screenX,z.value.startY=l.changedTouches[0].screenY},V=l=>{z.value.endX=l.changedTouches[0].screenX,z.value.endY=l.changedTouches[0].screenY,U()},g=l=>{a.vertical&&!a.inline&&l.preventDefault()},U=()=>{const l=a.vertical?"Y":"X";Math.abs(z.value[`start${l}`]-z.value[`end${l}`])>10&&r("handle-swipe",z.value[`start${l}`]>z.value[`end${l}`]?"right":"left")},F=(l,$,X)=>{l&&(Array.isArray(L.value[$])?L.value[$][X]=l:L.value[$]=[l]),a.arrowNavigation&&m(L.value,"calendar")},c=l=>{a.monthChangeOnScroll&&(l.preventDefault(),r("handle-scroll",l))},v=l=>k.value.type==="local"?s.getWeek(l.value,{weekStartsOn:+a.weekStart}):k.value.type==="iso"?s.getISOWeek(l.value):typeof k.value.type=="function"?k.value.type(l.value):"",A=l=>{const $=l[0];return k.value.hideOnOffsetDates?l.some(X=>X.current)?v($):"":v($)},le=(l,$)=>{B.value.enabled||(Ee(l,i.value),r("select-date",$))},d=l=>{Ee(l,i.value)},ee=l=>{B.value.enabled&&B.value.dragSelect?(W.value=!0,r("select-date",l)):B.value.enabled&&r("select-date",l)};return n({triggerTransition:re}),(l,$)=>{var X;return e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(H.value)},[e.createElementVNode("div",{ref_key:"calendarWrapRef",ref:S,role:"grid",class:e.normalizeClass(ne.value),"aria-label":(X=e.unref(N))==null?void 0:X.calendarWrap},[e.createElementVNode("div",rr,[l.weekNumbers?(e.openBlock(),e.createElementBlock("div",lr,e.toDisplayString(l.weekNumName),1)):e.createCommentVNode("",!0),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(G.value,(Q,Z)=>{var h,D;return e.openBlock(),e.createElementBlock("div",{key:Z,class:"dp__calendar_header_item",role:"gridcell","data-test":"calendar-header","aria-label":(D=(h=e.unref(N))==null?void 0:h.weekDay)==null?void 0:D.call(h,Z)},[l.$slots["calendar-header"]?e.renderSlot(l.$slots,"calendar-header",{key:0,day:Q,index:Z}):e.createCommentVNode("",!0),l.$slots["calendar-header"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(Q),1)],64))],8,or)}),128))]),sr,e.createVNode(e.Transition,{name:P.value,css:!!l.transitions},{default:e.withCtx(()=>{var Q;return[K.value?(e.openBlock(),e.createElementBlock("div",{key:0,class:"dp__calendar",role:"rowgroup","aria-label":((Q=e.unref(N))==null?void 0:Q.calendarDays)||void 0,onMouseleave:$[1]||($[1]=Z=>W.value=!1)},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(I.value,(Z,h)=>(e.openBlock(),e.createElementBlock("div",{key:h,class:"dp__calendar_row",role:"row"},[l.weekNumbers?(e.openBlock(),e.createElementBlock("div",ur,[e.createElementVNode("div",cr,e.toDisplayString(A(Z.days)),1)])):e.createCommentVNode("",!0),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(Z.days,(D,ie)=>{var se,we,ae;return e.openBlock(),e.createElementBlock("div",{id:O(D.value),ref_for:!0,ref:fe=>F(fe,h,ie),key:ie+h,role:"gridcell",class:"dp__calendar_item","aria-selected":(D.classData.dp__active_date||D.classData.dp__range_start||D.classData.dp__range_start)??void 0,"aria-disabled":D.classData.dp__cell_disabled||void 0,"aria-label":(we=(se=e.unref(N))==null?void 0:se.day)==null?void 0:we.call(se,D),tabindex:"0","data-test":D.value,onClick:e.withModifiers(fe=>le(fe,D),["prevent"]),onKeydown:[e.withKeys(fe=>l.$emit("select-date",D),["enter"]),e.withKeys(fe=>l.$emit("handle-space",D),["space"])],onMouseenter:fe=>C(D,h,ie),onMouseleave:fe=>y(D),onMousedown:fe=>ee(D),onMouseup:$[0]||($[0]=fe=>W.value=!1)},[e.createElementVNode("div",{class:e.normalizeClass(["dp__cell_inner",D.classData])},[l.$slots.day&&J.value(D)?e.renderSlot(l.$slots,"day",{key:0,day:+D.text,date:D.value}):e.createCommentVNode("",!0),l.$slots.day?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(D.text),1)],64)),D.marker&&J.value(D)?(e.openBlock(),e.createElementBlock(e.Fragment,{key:2},[l.$slots.marker?e.renderSlot(l.$slots,"marker",{key:0,marker:D.marker,day:+D.text,date:D.value}):(e.openBlock(),e.createElementBlock("div",{key:1,class:e.normalizeClass(te.value(D.marker)),style:e.normalizeStyle(D.marker.color?{backgroundColor:D.marker.color}:{})},null,6))],64)):e.createCommentVNode("",!0),R.value(D.value)?(e.openBlock(),e.createElementBlock("div",{key:3,ref_for:!0,ref_key:"activeTooltip",ref:Y,class:"dp__marker_tooltip",style:e.normalizeStyle(T.value)},[(ae=D.marker)!=null&&ae.tooltip?(e.openBlock(),e.createElementBlock("div",{key:0,class:"dp__tooltip_content",onClick:d},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(D.marker.tooltip,(fe,Se)=>(e.openBlock(),e.createElementBlock("div",{key:Se,class:"dp__tooltip_text"},[l.$slots["marker-tooltip"]?e.renderSlot(l.$slots,"marker-tooltip",{key:0,tooltip:fe,day:D.value}):e.createCommentVNode("",!0),l.$slots["marker-tooltip"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createElementVNode("div",{class:"dp__tooltip_mark",style:e.normalizeStyle(fe.color?{backgroundColor:fe.color}:{})},null,4),e.createElementVNode("div",null,e.toDisplayString(fe.text),1)],64))]))),128)),e.createElementVNode("div",{class:"dp__arrow_bottom_tp",style:e.normalizeStyle(_.value)},null,4)])):e.createCommentVNode("",!0)],4)):e.createCommentVNode("",!0)],2)],40,dr)}),128))]))),128))],40,ir)):e.createCommentVNode("",!0)]}),_:3},8,["name","css"])],10,ar)],2)}}}),Cn=t=>Array.isArray(t),mr=(t,n,o,r)=>{const a=e.ref([]),m=e.ref(new Date),p=e.ref(),{modelValue:i,calendars:N,time:E,today:k}=Je(t,n),{defaultedMultiCalendars:B,defaultedStartTime:w,defaultedRange:T,defaultedConfig:L,defaultedTz:S,propDates:K,defaultedMultiDates:P}=me(t),{validateMonthYearInRange:z,isDisabled:Y,isDateRangeAllowed:_,checkMinMaxRange:W}=Ie(t),{updateTimeValues:I,getSetDateTime:G,setTime:b,assignStartTime:re,validateTime:ne,disabledTimesConfig:te}=Dn(t,E,i,r),R=e.computed(()=>u=>N.value[u]?N.value[u].month:0),H=e.computed(()=>u=>N.value[u]?N.value[u].year:0),J=u=>!L.value.keepViewOnOffsetClick||u?!0:!p.value,O=(u,M,x,oe=!1)=>{var ce,Ce;J(oe)&&(N.value[u]||(N.value[u]={month:0,year:0}),N.value[u].month=an(M)?(ce=N.value[u])==null?void 0:ce.month:M,N.value[u].year=an(x)?(Ce=N.value[u])==null?void 0:Ce.year:x)},f=()=>{t.autoApply&&n("select-date")};e.watch(i,(u,M)=>{JSON.stringify(u)!==JSON.stringify(M)&&q()},{deep:!0}),e.onMounted(()=>{t.shadow||(i.value||(l(),w.value&&re(w.value)),q(!0),t.focusStartDate&&t.startDate&&l())});const C=e.computed(()=>{var u;return(u=t.flow)!=null&&u.length&&!t.partialFlow?t.flowStep===t.flow.length:!0}),y=()=>{t.autoApply&&C.value&&n("auto-apply")},q=(u=!1)=>{if(i.value)return Array.isArray(i.value)?(a.value=i.value,A(u)):U(i.value,u);if(B.value.count&&u&&!t.startDate)return g(j(),u)},V=()=>Array.isArray(i.value)&&T.value.enabled?s.getMonth(i.value[0])===s.getMonth(i.value[1]??i.value[0]):!1,g=(u,M=!1)=>{if((!B.value.count||!B.value.static||M)&&O(0,s.getMonth(u),s.getYear(u)),B.value.count&&(!B.value.solo||!i.value||V()))for(let x=1;x<B.value.count;x++){const oe=s.set(j(),{month:R.value(x-1),year:H.value(x-1)}),ce=s.add(oe,{months:1});N.value[x]={month:s.getMonth(ce),year:s.getYear(ce)}}},U=(u,M)=>{g(u),b("hours",s.getHours(u)),b("minutes",s.getMinutes(u)),b("seconds",s.getSeconds(u)),B.value.count&&M&&ee()},F=u=>{if(B.value.count){if(B.value.solo)return 0;const M=s.getMonth(u[0]),x=s.getMonth(u[1]);return Math.abs(x-M)<B.value.count?0:1}return 1},c=(u,M)=>{u[1]&&T.value.showLastInRange?g(u[F(u)],M):g(u[0],M);const x=(oe,ce)=>[oe(u[0]),u[1]?oe(u[1]):E[ce][1]];b("hours",x(s.getHours,"hours")),b("minutes",x(s.getMinutes,"minutes")),b("seconds",x(s.getSeconds,"seconds"))},v=(u,M)=>{if((T.value.enabled||t.weekPicker)&&!P.value.enabled)return c(u,M);if(P.value.enabled&&M){const x=u[u.length-1];return U(x,M)}},A=u=>{const M=i.value;v(M,u),B.value.count&&B.value.solo&&ee()},le=(u,M)=>{const x=s.set(j(),{month:R.value(M),year:H.value(M)}),oe=u<0?s.addMonths(x,1):s.subMonths(x,1);z(s.getMonth(oe),s.getYear(oe),u<0,t.preventMinMaxNavigation)&&(O(M,s.getMonth(oe),s.getYear(oe)),n("update-month-year",{instance:M,month:s.getMonth(oe),year:s.getYear(oe)}),B.value.count&&!B.value.solo&&d(M),o())},d=u=>{for(let M=u-1;M>=0;M--){const x=s.subMonths(s.set(j(),{month:R.value(M+1),year:H.value(M+1)}),1);O(M,s.getMonth(x),s.getYear(x))}for(let M=u+1;M<=B.value.count-1;M++){const x=s.addMonths(s.set(j(),{month:R.value(M-1),year:H.value(M-1)}),1);O(M,s.getMonth(x),s.getYear(x))}},ee=()=>{if(Array.isArray(i.value)&&i.value.length===2){const u=j(j(i.value[1]?i.value[1]:s.addMonths(i.value[0],1))),[M,x]=[s.getMonth(i.value[0]),s.getYear(i.value[0])],[oe,ce]=[s.getMonth(i.value[1]),s.getYear(i.value[1])];(M!==oe||M===oe&&x!==ce)&&B.value.solo&&O(1,s.getMonth(u),s.getYear(u))}else i.value&&!Array.isArray(i.value)&&(O(0,s.getMonth(i.value),s.getYear(i.value)),g(j()))},l=()=>{t.startDate&&(O(0,s.getMonth(j(t.startDate)),s.getYear(j(t.startDate))),B.value.count&&d(0))},$=(u,M)=>{if(t.monthChangeOnScroll){const x=new Date().getTime()-m.value.getTime(),oe=Math.abs(u.deltaY);let ce=500;oe>1&&(ce=100),oe>100&&(ce=0),x>ce&&(m.value=new Date,le(t.monthChangeOnScroll!=="inverse"?-u.deltaY:u.deltaY,M))}},X=(u,M,x=!1)=>{t.monthChangeOnArrows&&t.vertical===x&&Q(u,M)},Q=(u,M)=>{le(u==="right"?-1:1,M)},Z=u=>{if(K.value.markers)return rt(u.value,K.value.markers)},h=(u,M)=>{switch(t.sixWeeks===!0?"append":t.sixWeeks){case"prepend":return[!0,!1];case"center":return[u==0,!0];case"fair":return[u==0||M>u,!0];case"append":return[!1,!1];default:return[!1,!1]}},D=(u,M,x,oe)=>{if(t.sixWeeks&&u.length<6){const ce=6-u.length,Ce=(M.getDay()+7-oe)%7,pt=6-(x.getDay()+7-oe)%7,[at,Gt]=h(Ce,pt);for(let He=1;He<=ce;He++)if(Gt?!!(He%2)==at:at){const gt=u[0].days[0],Xt=ie(s.addDays(gt.value,-7),s.getMonth(M));u.unshift({days:Xt})}else{const gt=u[u.length-1],Xt=gt.days[gt.days.length-1],Nr=ie(s.addDays(Xt.value,1),s.getMonth(M));u.push({days:Nr})}}return u},ie=(u,M)=>{const x=j(u),oe=[];for(let ce=0;ce<7;ce++){const Ce=s.addDays(x,ce),nt=s.getMonth(Ce)!==M;oe.push({text:t.hideOffsetDates&&nt?"":Ce.getDate(),value:Ce,current:!nt,classData:{}})}return oe},se=(u,M)=>{const x=[],oe=new Date(M,u),ce=new Date(M,u+1,0),Ce=t.weekStart,nt=s.startOfWeek(oe,{weekStartsOn:Ce}),pt=at=>{const Gt=ie(at,u);if(x.push({days:Gt}),!x[x.length-1].days.some(He=>ue(ve(He.value),ve(ce)))){const He=s.addDays(at,7);pt(He)}};return pt(nt),D(x,oe,ce,Ce)},we=u=>{const M=_e(j(u.value),E.hours,E.minutes,De());n("date-update",M),P.value.enabled?Ot(M,i,P.value.limit):i.value=M,r(),e.nextTick().then(()=>{y()})},ae=u=>T.value.noDisabledRange?cn(a.value[0],u).some(x=>Y(x)):!1,fe=()=>{a.value=i.value?i.value.slice():[],a.value.length===2&&!(T.value.fixedStart||T.value.fixedEnd)&&(a.value=[])},Se=(u,M)=>{const x=[j(u.value),s.addDays(j(u.value),+T.value.autoRange)];_(x)?(M&&ft(u.value),a.value=x):n("invalid-date",u.value)},ft=u=>{const M=s.getMonth(j(u)),x=s.getYear(j(u));if(O(0,M,x),B.value.count>0)for(let oe=1;oe<B.value.count;oe++){const ce=Kn(s.set(j(u),{year:R.value(oe-1),month:H.value(oe-1)}));O(oe,ce.month,ce.year)}},Kt=u=>{if(ae(u.value)||!W(u.value,i.value,T.value.fixedStart?0:1))return n("invalid-date",u.value);a.value=vn(j(u.value),i,n,T)},et=(u,M)=>{if(fe(),T.value.autoRange)return Se(u,M);if(T.value.fixedStart||T.value.fixedEnd)return Kt(u);a.value[0]?W(j(u.value),i.value)&&!ae(u.value)?pe(j(u.value),j(a.value[0]))?(a.value.unshift(j(u.value)),n("range-end",a.value[0])):(a.value[1]=j(u.value),n("range-end",a.value[1])):(t.autoApply&&n("auto-apply-invalid",u.value),n("invalid-date",u.value)):(a.value[0]=j(u.value),n("range-start",a.value[0]))},De=(u=!0)=>t.enableSeconds?Array.isArray(E.seconds)?u?E.seconds[0]:E.seconds[1]:E.seconds:0,tt=u=>{a.value[u]=_e(a.value[u],E.hours[u],E.minutes[u],De(u!==1))},Ht=()=>{var u,M;a.value[0]&&a.value[1]&&+((u=a.value)==null?void 0:u[0])>+((M=a.value)==null?void 0:M[1])&&(a.value.reverse(),n("range-start",a.value[0]),n("range-end",a.value[1]))},mt=()=>{a.value.length&&(a.value[0]&&!a.value[1]?tt(0):(tt(0),tt(1),r()),Ht(),i.value=a.value.slice(),dt(a.value,n,t.autoApply,t.modelAuto))},Wt=(u,M=!1)=>{if(Y(u.value)||!u.current&&t.hideOffsetDates)return n("invalid-date",u.value);if(p.value=JSON.parse(JSON.stringify(u)),!T.value.enabled)return we(u);Cn(E.hours)&&Cn(E.minutes)&&!P.value.enabled&&(et(u,M),mt())},Ut=(u,M)=>{var oe;O(u,M.month,M.year,!0),B.value.count&&!B.value.solo&&d(u),n("update-month-year",{instance:u,month:M.month,year:M.year}),o(B.value.solo?u:void 0);const x=(oe=t.flow)!=null&&oe.length?t.flow[t.flowStep]:void 0;!M.fromNav&&(x===Pe.month||x===Pe.year)&&r()},jt=(u,M)=>{wn({value:u,modelValue:i,range:T.value.enabled,timezone:M?void 0:S.value.timezone}),f(),t.multiCalendars&&e.nextTick().then(()=>q(!0))},xt=()=>{T.value.enabled?i.value&&Array.isArray(i.value)&&i.value[0]?i.value=pe(j(),i.value[0])?[j(),i.value[0]]:[i.value[0],j()]:i.value=[j()]:i.value=j(),f()},qt=()=>{if(Array.isArray(i.value))if(P.value.enabled){const u=Qt();i.value[i.value.length-1]=G(u)}else i.value=i.value.map((u,M)=>u&&G(u,M));else i.value=G(i.value);n("time-update")},Qt=()=>Array.isArray(i.value)&&i.value.length?i.value[i.value.length-1]:null;return{calendars:N,modelValue:i,month:R,year:H,time:E,disabledTimesConfig:te,today:k,validateTime:ne,getCalendarDays:se,getMarker:Z,handleScroll:$,handleSwipe:Q,handleArrow:X,selectDate:Wt,updateMonthYear:Ut,presetDate:jt,selectCurrentDate:xt,updateTime:(u,M=!0,x=!1)=>{I(u,M,x,qt)}}},pr={key:0},gr=e.defineComponent({__name:"DatePicker",props:{...Te},emits:["tooltip-open","tooltip-close","mount","update:internal-model-value","update-flow-step","reset-flow","auto-apply","focus-menu","select-date","range-start","range-end","invalid-fixed-range","time-update","am-pm-change","time-picker-open","time-picker-close","recalculate-position","update-month-year","auto-apply-invalid","date-update","invalid-date"],setup(t,{expose:n,emit:o}){const r=o,a=t,{calendars:m,month:p,year:i,modelValue:N,time:E,disabledTimesConfig:k,today:B,validateTime:w,getCalendarDays:T,getMarker:L,handleArrow:S,handleScroll:K,handleSwipe:P,selectDate:z,updateMonthYear:Y,presetDate:_,selectCurrentDate:W,updateTime:I}=mr(a,r,V,g),G=e.useSlots(),{setHoverDate:b,getDayClassData:re,clearHoverDate:ne}=pa(N,a),{defaultedMultiCalendars:te}=me(a),R=e.ref([]),H=e.ref([]),J=e.ref(null),O=Me(G,"calendar"),f=Me(G,"monthYear"),C=Me(G,"timePicker"),y=l=>{a.shadow||r("mount",l)};e.watch(m,()=>{a.shadow||setTimeout(()=>{r("recalculate-position")},0)},{deep:!0});const q=e.computed(()=>l=>T(p.value(l),i.value(l)).map($=>({...$,days:$.days.map(X=>(X.marker=L(X),X.classData=re(X),X))})));function V(l){var $;l||l===0?($=H.value[l])==null||$.triggerTransition(p.value(l),i.value(l)):H.value.forEach((X,Q)=>X.triggerTransition(p.value(Q),i.value(Q)))}function g(){r("update-flow-step")}const U=(l,$=!1)=>{z(l,$),a.spaceConfirm&&r("select-date")};return n({clearHoverDate:ne,presetDate:_,selectCurrentDate:W,toggleMonthPicker:(l,$,X=0)=>{var Q;(Q=R.value[X])==null||Q.toggleMonthPicker(l,$)},toggleYearPicker:(l,$,X=0)=>{var Q;(Q=R.value[X])==null||Q.toggleYearPicker(l,$)},toggleTimePicker:(l,$,X)=>{var Q;(Q=J.value)==null||Q.toggleTimePicker(l,$,X)},handleArrow:S,updateMonthYear:Y,getSidebarProps:()=>({modelValue:N,month:p,year:i,time:E,updateTime:I,updateMonthYear:Y,selectDate:z,presetDate:_}),changeMonth:l=>{var $;($=R.value[0])==null||$.handleMonthYearChange(l,!0)},changeYear:l=>{Y(0,{month:p.value(0),year:i.value(0)+(l?1:-1),fromNav:!0})},selectWeekDate:l=>{if(!a.range){const $=N.value?N.value:B,X=l?s.startOfWeek($,{weekStartsOn:1}):s.endOfWeek($,{weekStartsOn:1});z({value:X,current:s.getMonth($)===p.value(0),text:"",classData:{}})}}}),(l,$)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createVNode(ct,{"multi-calendars":e.unref(te).count,collapse:l.collapse},{default:e.withCtx(({instance:X,index:Q})=>[l.disableMonthYearSelect?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(nr,e.mergeProps({key:0,ref:Z=>{Z&&(R.value[Q]=Z)},months:e.unref(en)(l.formatLocale,l.locale,l.monthNameFormat),years:e.unref(Mt)(l.yearRange,l.locale,l.reverseYears),month:e.unref(p)(X),year:e.unref(i)(X),instance:X},l.$props,{onMount:$[0]||($[0]=Z=>y(e.unref(Ke).header)),onResetFlow:$[1]||($[1]=Z=>l.$emit("reset-flow")),onUpdateMonthYear:Z=>e.unref(Y)(X,Z),onOverlayClosed:$[2]||($[2]=Z=>l.$emit("focus-menu"))}),e.createSlots({_:2},[e.renderList(e.unref(f),(Z,h)=>({name:Z,fn:e.withCtx(D=>[e.renderSlot(l.$slots,Z,e.normalizeProps(e.guardReactiveProps(D)))])}))]),1040,["months","years","month","year","instance","onUpdateMonthYear"])),e.createVNode(fr,e.mergeProps({ref:Z=>{Z&&(H.value[Q]=Z)},"mapped-dates":q.value(X),month:e.unref(p)(X),year:e.unref(i)(X),instance:X},l.$props,{onSelectDate:Z=>e.unref(z)(Z,X!==1),onHandleSpace:Z=>U(Z,X!==1),onSetHoverDate:$[3]||($[3]=Z=>e.unref(b)(Z)),onHandleScroll:Z=>e.unref(K)(Z,X),onHandleSwipe:Z=>e.unref(P)(Z,X),onMount:$[4]||($[4]=Z=>y(e.unref(Ke).calendar)),onResetFlow:$[5]||($[5]=Z=>l.$emit("reset-flow")),onTooltipOpen:$[6]||($[6]=Z=>l.$emit("tooltip-open",Z)),onTooltipClose:$[7]||($[7]=Z=>l.$emit("tooltip-close",Z))}),e.createSlots({_:2},[e.renderList(e.unref(O),(Z,h)=>({name:Z,fn:e.withCtx(D=>[e.renderSlot(l.$slots,Z,e.normalizeProps(e.guardReactiveProps({...D})))])}))]),1040,["mapped-dates","month","year","instance","onSelectDate","onHandleSpace","onHandleScroll","onHandleSwipe"])]),_:3},8,["multi-calendars","collapse"]),l.enableTimePicker?(e.openBlock(),e.createElementBlock("div",pr,[l.$slots["time-picker"]?e.renderSlot(l.$slots,"time-picker",e.normalizeProps(e.mergeProps({key:0},{time:e.unref(E),updateTime:e.unref(I)}))):(e.openBlock(),e.createBlock(Sn,e.mergeProps({key:1,ref_key:"timePickerRef",ref:J},l.$props,{hours:e.unref(E).hours,minutes:e.unref(E).minutes,seconds:e.unref(E).seconds,"internal-model-value":l.internalModelValue,"disabled-times-config":e.unref(k),"validate-time":e.unref(w),onMount:$[8]||($[8]=X=>y(e.unref(Ke).timePicker)),"onUpdate:hours":$[9]||($[9]=X=>e.unref(I)(X)),"onUpdate:minutes":$[10]||($[10]=X=>e.unref(I)(X,!1)),"onUpdate:seconds":$[11]||($[11]=X=>e.unref(I)(X,!1,!0)),onResetFlow:$[12]||($[12]=X=>l.$emit("reset-flow")),onOverlayClosed:$[13]||($[13]=X=>l.$emit("time-picker-close")),onOverlayOpened:$[14]||($[14]=X=>l.$emit("time-picker-open",X)),onAmPmChange:$[15]||($[15]=X=>l.$emit("am-pm-change",X))}),e.createSlots({_:2},[e.renderList(e.unref(C),(X,Q)=>({name:X,fn:e.withCtx(Z=>[e.renderSlot(l.$slots,X,e.normalizeProps(e.guardReactiveProps(Z)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"]))])):e.createCommentVNode("",!0)],64))}}),yr=(t,n)=>{const o=e.ref(),{defaultedMultiCalendars:r,defaultedConfig:a,defaultedHighlight:m,defaultedRange:p,propDates:i,defaultedFilters:N,defaultedMultiDates:E}=me(t),{modelValue:k,year:B,month:w,calendars:T}=Je(t,n),{isDisabled:L}=Ie(t),{selectYear:S,groupedYears:K,showYearPicker:P,isDisabled:z,toggleYearPicker:Y,handleYearSelect:_,handleYear:W}=Mn({modelValue:k,multiCalendars:r,highlight:m,calendars:T,propDates:i,month:w,year:B,filters:N,props:t,emit:n}),I=(C,y)=>[C,y].map(q=>s.format(q,"MMMM",{locale:t.formatLocale})).join("-"),G=e.computed(()=>C=>k.value?Array.isArray(k.value)?k.value.some(y=>s.isSameQuarter(C,y)):s.isSameQuarter(k.value,C):!1),b=C=>{if(p.value.enabled){if(Array.isArray(k.value)){const y=ue(C,k.value[0])||ue(C,k.value[1]);return lt(k.value,o.value,C)&&!y}return!1}return!1},re=(C,y)=>C.quarter===s.getQuarter(y)&&C.year===s.getYear(y),ne=C=>typeof m.value=="function"?m.value({quarter:s.getQuarter(C),year:s.getYear(C)}):!!m.value.quarters.find(y=>re(y,C)),te=e.computed(()=>C=>{const y=s.set(new Date,{year:B.value(C)});return s.eachQuarterOfInterval({start:s.startOfYear(y),end:s.endOfYear(y)}).map(q=>{const V=s.startOfQuarter(q),g=s.endOfQuarter(q),U=L(q),F=b(V),c=ne(V);return{text:I(V,g),value:V,active:G.value(V),highlighted:c,disabled:U,isBetween:F}})}),R=C=>{Ot(C,k,E.value.limit),n("auto-apply",!0)},H=C=>{k.value=It(k,C,n),dt(k.value,n,t.autoApply,t.modelAuto)},J=C=>{k.value=C,n("auto-apply")};return{defaultedConfig:a,defaultedMultiCalendars:r,groupedYears:K,year:B,isDisabled:z,quarters:te,showYearPicker:P,modelValue:k,setHoverDate:C=>{o.value=C},selectYear:S,selectQuarter:(C,y,q)=>{if(!q)return T.value[y].month=s.getMonth(s.endOfQuarter(C)),E.value.enabled?R(C):p.value.enabled?H(C):J(C)},toggleYearPicker:Y,handleYearSelect:_,handleYear:W}},hr={class:"dp--quarter-items"},kr=["data-test","disabled","onClick","onMouseover"],br=e.defineComponent({compatConfig:{MODE:3},__name:"QuarterPicker",props:{...Te},emits:["update:internal-model-value","reset-flow","overlay-closed","auto-apply","range-start","range-end"],setup(t,{expose:n,emit:o}){const r=o,a=t,m=e.useSlots(),p=Me(m,"yearMode"),{defaultedMultiCalendars:i,defaultedConfig:N,groupedYears:E,year:k,isDisabled:B,quarters:w,modelValue:T,showYearPicker:L,setHoverDate:S,selectQuarter:K,toggleYearPicker:P,handleYearSelect:z,handleYear:Y}=yr(a,r);return n({getSidebarProps:()=>({modelValue:T,year:k,selectQuarter:K,handleYearSelect:z,handleYear:Y})}),(W,I)=>(e.openBlock(),e.createBlock(ct,{"multi-calendars":e.unref(i).count,collapse:W.collapse,stretch:""},{default:e.withCtx(({instance:G})=>[e.createElementVNode("div",{class:"dp-quarter-picker-wrap",style:e.normalizeStyle({minHeight:`${e.unref(N).modeHeight}px`})},[W.$slots["top-extra"]?e.renderSlot(W.$slots,"top-extra",{key:0,value:W.internalModelValue}):e.createCommentVNode("",!0),e.createElementVNode("div",null,[e.createVNode(bn,e.mergeProps(W.$props,{items:e.unref(E)(G),instance:G,"show-year-picker":e.unref(L)[G],year:e.unref(k)(G),"is-disabled":b=>e.unref(B)(G,b),onHandleYear:b=>e.unref(Y)(G,b),onYearSelect:b=>e.unref(z)(b,G),onToggleYearPicker:b=>e.unref(P)(G,b==null?void 0:b.flow,b==null?void 0:b.show)}),e.createSlots({_:2},[e.renderList(e.unref(p),(b,re)=>({name:b,fn:e.withCtx(ne=>[e.renderSlot(W.$slots,b,e.normalizeProps(e.guardReactiveProps(ne)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),e.createElementVNode("div",hr,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(w)(G),(b,re)=>(e.openBlock(),e.createElementBlock("div",{key:re},[e.createElementVNode("button",{type:"button",class:e.normalizeClass(["dp--qr-btn",{"dp--qr-btn-active":b.active,"dp--qr-btn-between":b.isBetween,"dp--qr-btn-disabled":b.disabled,"dp--highlighted":b.highlighted}]),"data-test":b.value,disabled:b.disabled,onClick:ne=>e.unref(K)(b.value,G,b.disabled),onMouseover:ne=>e.unref(S)(b.value)},[W.$slots.quarter?e.renderSlot(W.$slots,"quarter",{key:0,value:b.value,text:b.text}):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(b.text),1)],64))],42,kr)]))),128))])],4)]),_:3},8,["multi-calendars","collapse"]))}}),wr=["id","aria-label"],vr={key:0,class:"dp--menu-load-container"},Mr=[e.createElementVNode("span",{class:"dp--menu-loader"},null,-1)],Sr={key:0,class:"dp__sidebar_left"},Dr=["data-test","onClick","onKeydown"],Cr={key:2,class:"dp__sidebar_right"},Br={key:3,class:"dp__action_extra"},Bn=e.defineComponent({compatConfig:{MODE:3},__name:"DatepickerMenu",props:{...ut,shadow:{type:Boolean,default:!1},openOnTop:{type:Boolean,default:!1},internalModelValue:{type:[Date,Array],default:null},noOverlayFocus:{type:Boolean,default:!1},collapse:{type:Boolean,default:!1},getInputRect:{type:Function,default:()=>({})}},emits:["close-picker","select-date","auto-apply","time-update","flow-step","update-month-year","invalid-select","update:internal-model-value","recalculate-position","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","auto-apply-invalid","date-update","invalid-date"],setup(t,{expose:n,emit:o}){const r=o,a=t,m=e.ref(null),p=e.computed(()=>{const{openOnTop:h,...D}=a;return{...D,flowStep:b.value,collapse:a.collapse,noOverlayFocus:a.noOverlayFocus,menuWrapRef:m.value}}),{setMenuFocused:i,setShiftKey:N,control:E}=yn(),k=e.useSlots(),{defaultedTextInput:B,defaultedInline:w,defaultedConfig:T}=me(a),L=e.ref(null),S=e.ref(0),K=e.ref(null),P=e.ref(!1),z=e.ref(null);e.onMounted(()=>{if(!a.shadow){P.value=!0,Y(),window.addEventListener("resize",Y);const h=ke(m);if(h&&!B.value.enabled&&!w.value.enabled&&(i(!0),J()),h){const D=ie=>{T.value.allowPreventDefault&&ie.preventDefault(),Ee(ie,T.value,!0)};h.addEventListener("pointerdown",D),h.addEventListener("mousedown",D)}}}),e.onUnmounted(()=>{window.removeEventListener("resize",Y)});const Y=()=>{const h=ke(K);h&&(S.value=h.getBoundingClientRect().width)},{arrowRight:_,arrowLeft:W,arrowDown:I,arrowUp:G}=Ye(),{flowStep:b,updateFlowStep:re,childMount:ne,resetFlow:te}=ga(a,r,z),R=e.computed(()=>a.monthPicker?Ra:a.yearPicker?Ea:a.timePicker?Xa:a.quarterPicker?br:gr),H=e.computed(()=>{var ie;if(T.value.arrowLeft)return T.value.arrowLeft;const h=(ie=m.value)==null?void 0:ie.getBoundingClientRect(),D=a.getInputRect();return D.width<S.value&&D.left<=((h==null?void 0:h.left)??0)?`${D.width/2}px`:"50%"}),J=()=>{const h=ke(m);h&&h.focus({preventScroll:!0})},O=e.computed(()=>{var h;return((h=z.value)==null?void 0:h.getSidebarProps())||{}}),f=()=>{a.openOnTop&&r("recalculate-position")},C=Me(k,"action"),y=e.computed(()=>a.monthPicker||a.yearPicker?Me(k,"monthYear"):a.timePicker?Me(k,"timePicker"):Me(k,"shared")),q=e.computed(()=>a.openOnTop?"dp__arrow_bottom":"dp__arrow_top"),V=e.computed(()=>({dp__menu_disabled:a.disabled,dp__menu_readonly:a.readonly,"dp-menu-loading":a.loading})),g=e.computed(()=>({dp__menu:!0,dp__menu_index:!w.value.enabled,dp__relative:w.value.enabled,[a.menuClassName]:!!a.menuClassName})),U=h=>{Ee(h,T.value,!0)},F=()=>{a.escClose&&r("close-picker")},c=h=>{if(a.arrowNavigation){if(h==="up")return G();if(h==="down")return I();if(h==="left")return W();if(h==="right")return _()}else h==="left"||h==="up"?ee("handleArrow","left",0,h==="up"):ee("handleArrow","right",0,h==="down")},v=h=>{N(h.shiftKey),!a.disableMonthYearSelect&&h.code==="Tab"&&h.target.classList.contains("dp__menu")&&E.value.shiftKeyInMenu&&(h.preventDefault(),Ee(h,T.value,!0),r("close-picker"))},A=()=>{J(),r("time-picker-close")},le=h=>{var D,ie,se;(D=z.value)==null||D.toggleTimePicker(!1,!1),(ie=z.value)==null||ie.toggleMonthPicker(!1,!1,h),(se=z.value)==null||se.toggleYearPicker(!1,!1,h)},d=(h,D=0)=>{var ie,se,we;return h==="month"?(ie=z.value)==null?void 0:ie.toggleMonthPicker(!1,!0,D):h==="year"?(se=z.value)==null?void 0:se.toggleYearPicker(!1,!0,D):h==="time"?(we=z.value)==null?void 0:we.toggleTimePicker(!0,!1):le(D)},ee=(h,...D)=>{var ie,se;(ie=z.value)!=null&&ie[h]&&((se=z.value)==null||se[h](...D))},l=()=>{ee("selectCurrentDate")},$=(h,D)=>{ee("presetDate",h,D)},X=()=>{ee("clearHoverDate")},Q=(h,D)=>{ee("updateMonthYear",h,D)},Z=h=>{if(v(h),h.key==="Home"||h.key==="End")return ee("selectWeekDate",h.key==="Home");if(h.key==="PageUp"||h.key==="PageDown")return h.shiftKey?ee("changeYear",h.key==="PageUp"):ee("changeMonth",h.key==="PageUp")};return n({updateMonthYear:Q,switchView:d}),(h,D)=>{var ie,se,we;return e.openBlock(),e.createElementBlock("div",{id:h.uid?`dp-menu-${h.uid}`:void 0,ref_key:"dpMenuRef",ref:m,tabindex:"0",role:"dialog","aria-label":(ie=h.ariaLabels)==null?void 0:ie.menu,class:e.normalizeClass(g.value),style:e.normalizeStyle({"--dp-arrow-left":H.value}),onMouseleave:X,onClick:U,onKeydown:[e.withKeys(F,["esc"]),D[18]||(D[18]=e.withKeys(e.withModifiers(ae=>c("left"),["prevent"]),["left"])),D[19]||(D[19]=e.withKeys(e.withModifiers(ae=>c("up"),["prevent"]),["up"])),D[20]||(D[20]=e.withKeys(e.withModifiers(ae=>c("down"),["prevent"]),["down"])),D[21]||(D[21]=e.withKeys(e.withModifiers(ae=>c("right"),["prevent"]),["right"])),Z]},[(h.disabled||h.readonly)&&e.unref(w).enabled||h.loading?(e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass(V.value)},[h.loading?(e.openBlock(),e.createElementBlock("div",vr,Mr)):e.createCommentVNode("",!0)],2)):e.createCommentVNode("",!0),!e.unref(w).enabled&&!h.teleportCenter?(e.openBlock(),e.createElementBlock("div",{key:1,class:e.normalizeClass(q.value)},null,2)):e.createCommentVNode("",!0),e.createElementVNode("div",{ref_key:"innerMenuRef",ref:K,class:e.normalizeClass({dp__menu_content_wrapper:((se=h.presetDates)==null?void 0:se.length)||!!h.$slots["left-sidebar"]||!!h.$slots["right-sidebar"],"dp--menu-content-wrapper-collapsed":t.collapse&&(((we=h.presetDates)==null?void 0:we.length)||!!h.$slots["left-sidebar"]||!!h.$slots["right-sidebar"])}),style:e.normalizeStyle({"--dp-menu-width":`${S.value}px`})},[h.$slots["left-sidebar"]?(e.openBlock(),e.createElementBlock("div",Sr,[e.renderSlot(h.$slots,"left-sidebar",e.normalizeProps(e.guardReactiveProps(O.value)))])):e.createCommentVNode("",!0),h.presetDates.length?(e.openBlock(),e.createElementBlock("div",{key:1,class:e.normalizeClass({"dp--preset-dates-collapsed":t.collapse,"dp--preset-dates":!0})},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(h.presetDates,(ae,fe)=>(e.openBlock(),e.createElementBlock(e.Fragment,{key:fe},[ae.slot?e.renderSlot(h.$slots,ae.slot,{key:0,presetDate:$,label:ae.label,value:ae.value}):(e.openBlock(),e.createElementBlock("button",{key:1,type:"button",style:e.normalizeStyle(ae.style||{}),class:e.normalizeClass(["dp__btn dp--preset-range",{"dp--preset-range-collapsed":t.collapse}]),"data-test":ae.testId??void 0,onClick:e.withModifiers(Se=>$(ae.value,ae.noTz),["prevent"]),onKeydown:[e.withKeys(e.withModifiers(Se=>$(ae.value,ae.noTz),["prevent"]),["enter"]),e.withKeys(e.withModifiers(Se=>$(ae.value,ae.noTz),["prevent"]),["space"])]},e.toDisplayString(ae.label),47,Dr))],64))),128))],2)):e.createCommentVNode("",!0),e.createElementVNode("div",{ref_key:"calendarWrapperRef",ref:L,class:"dp__instance_calendar",role:"document"},[(e.openBlock(),e.createBlock(e.resolveDynamicComponent(R.value),e.mergeProps({ref_key:"dynCmpRef",ref:z},p.value,{"flow-step":e.unref(b),onMount:e.unref(ne),onUpdateFlowStep:e.unref(re),onResetFlow:e.unref(te),onFocusMenu:J,onSelectDate:D[0]||(D[0]=ae=>h.$emit("select-date")),onDateUpdate:D[1]||(D[1]=ae=>h.$emit("date-update",ae)),onTooltipOpen:D[2]||(D[2]=ae=>h.$emit("tooltip-open",ae)),onTooltipClose:D[3]||(D[3]=ae=>h.$emit("tooltip-close",ae)),onAutoApply:D[4]||(D[4]=ae=>h.$emit("auto-apply",ae)),onRangeStart:D[5]||(D[5]=ae=>h.$emit("range-start",ae)),onRangeEnd:D[6]||(D[6]=ae=>h.$emit("range-end",ae)),onInvalidFixedRange:D[7]||(D[7]=ae=>h.$emit("invalid-fixed-range",ae)),onTimeUpdate:D[8]||(D[8]=ae=>h.$emit("time-update")),onAmPmChange:D[9]||(D[9]=ae=>h.$emit("am-pm-change",ae)),onTimePickerOpen:D[10]||(D[10]=ae=>h.$emit("time-picker-open",ae)),onTimePickerClose:A,onRecalculatePosition:f,onUpdateMonthYear:D[11]||(D[11]=ae=>h.$emit("update-month-year",ae)),onAutoApplyInvalid:D[12]||(D[12]=ae=>h.$emit("auto-apply-invalid",ae)),onInvalidDate:D[13]||(D[13]=ae=>h.$emit("invalid-date",ae)),"onUpdate:internalModelValue":D[14]||(D[14]=ae=>h.$emit("update:internal-model-value",ae))}),e.createSlots({_:2},[e.renderList(y.value,(ae,fe)=>({name:ae,fn:e.withCtx(Se=>[e.renderSlot(h.$slots,ae,e.normalizeProps(e.guardReactiveProps({...Se})))])}))]),1040,["flow-step","onMount","onUpdateFlowStep","onResetFlow"]))],512),h.$slots["right-sidebar"]?(e.openBlock(),e.createElementBlock("div",Cr,[e.renderSlot(h.$slots,"right-sidebar",e.normalizeProps(e.guardReactiveProps(O.value)))])):e.createCommentVNode("",!0),h.$slots["action-extra"]?(e.openBlock(),e.createElementBlock("div",Br,[h.$slots["action-extra"]?e.renderSlot(h.$slots,"action-extra",{key:0,selectCurrentDate:l}):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0)],6),!h.autoApply||e.unref(T).keepActionRow?(e.openBlock(),e.createBlock(Ma,e.mergeProps({key:2,"menu-mount":P.value},p.value,{"calendar-width":S.value,onClosePicker:D[15]||(D[15]=ae=>h.$emit("close-picker")),onSelectDate:D[16]||(D[16]=ae=>h.$emit("select-date")),onInvalidSelect:D[17]||(D[17]=ae=>h.$emit("invalid-select")),onSelectNow:l}),e.createSlots({_:2},[e.renderList(e.unref(C),(ae,fe)=>({name:ae,fn:e.withCtx(Se=>[e.renderSlot(h.$slots,ae,e.normalizeProps(e.guardReactiveProps({...Se})))])}))]),1040,["menu-mount","calendar-width"])):e.createCommentVNode("",!0)],46,wr)}}}),$r=typeof window<"u"?window:void 0,zt=()=>{},Tr=t=>e.getCurrentScope()?(e.onScopeDispose(t),!0):!1,Ar=(t,n,o,r)=>{if(!t)return zt;let a=zt;const m=e.watch(()=>e.unref(t),i=>{a(),i&&(i.addEventListener(n,o,r),a=()=>{i.removeEventListener(n,o,r),a=zt})},{immediate:!0,flush:"post"}),p=()=>{m(),a()};return Tr(p),p},Pr=(t,n,o,r={})=>{const{window:a=$r,event:m="pointerdown"}=r;return a?Ar(a,m,i=>{const N=ke(t),E=ke(n);!N||!E||N===i.target||i.composedPath().includes(N)||i.composedPath().includes(E)||o(i)},{passive:!0}):void 0},Rr=e.defineComponent({compatConfig:{MODE:3},__name:"VueDatePicker",props:{...ut},emits:["update:model-value","update:model-timezone-value","text-submit","closed","cleared","open","focus","blur","internal-model-change","recalculate-position","flow-step","update-month-year","invalid-select","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","date-update","invalid-date"],setup(t,{expose:n,emit:o}){const r=o,a=t,m=e.useSlots(),p=e.ref(!1),i=e.toRef(a,"modelValue"),N=e.toRef(a,"timezone"),E=e.ref(null),k=e.ref(null),B=e.ref(null),w=e.ref(!1),T=e.ref(null),L=e.ref(!1),S=e.ref(!1),K=e.ref(!1),{setMenuFocused:P,setShiftKey:z}=yn(),{clearArrowNav:Y}=Ye(),{validateDate:_,isValidTime:W}=Ie(a),{defaultedTransitions:I,defaultedTextInput:G,defaultedInline:b,defaultedConfig:re,defaultedRange:ne,defaultedMultiDates:te}=me(a),{menuTransition:R,showTransition:H}=Xe(I);e.onMounted(()=>{c(a.modelValue),e.nextTick().then(()=>{if(!b.value.enabled){const u=V(T.value);u==null||u.addEventListener("scroll",Z),window==null||window.addEventListener("resize",h)}}),b.value.enabled&&(p.value=!0),window==null||window.addEventListener("keyup",D),window==null||window.addEventListener("keydown",ie)}),e.onUnmounted(()=>{if(!b.value.enabled){const u=V(T.value);u==null||u.removeEventListener("scroll",Z),window==null||window.removeEventListener("resize",h)}window==null||window.removeEventListener("keyup",D),window==null||window.removeEventListener("keydown",ie)});const J=Me(m,"all",a.presetDates),O=Me(m,"input");e.watch([i,N],()=>{c(i.value)},{deep:!0});const{openOnTop:f,menuStyle:C,xCorrect:y,setMenuPosition:q,getScrollableParent:V,shadowRender:g}=da({menuRef:E,menuRefInner:k,inputRef:B,pickerWrapperRef:T,inline:b,emit:r,props:a,slots:m}),{inputValue:U,internalModelValue:F,parseExternalModelValue:c,emitModelValue:v,formatInputValue:A,checkBeforeEmit:le}=ua(r,a,w),d=e.computed(()=>({dp__main:!0,dp__theme_dark:a.dark,dp__theme_light:!a.dark,dp__flex_display:b.value.enabled,"dp--flex-display-collapsed":K.value,dp__flex_display_with_input:b.value.input})),ee=e.computed(()=>a.dark?"dp__theme_dark":"dp__theme_light"),l=e.computed(()=>a.teleport?{to:typeof a.teleport=="boolean"?"body":a.teleport,disabled:!a.teleport||b.value.enabled}:{}),$=e.computed(()=>({class:"dp__outer_menu_wrap"})),X=e.computed(()=>b.value.enabled&&(a.timePicker||a.monthPicker||a.yearPicker||a.quarterPicker)),Q=()=>{var u,M;return(M=(u=B.value)==null?void 0:u.$el)==null?void 0:M.getBoundingClientRect()},Z=()=>{p.value&&(re.value.closeOnScroll?De():q())},h=()=>{var M;p.value&&q();const u=(M=k.value)==null?void 0:M.$el.getBoundingClientRect().width;K.value=document.body.offsetWidth<=u},D=u=>{u.key==="Tab"&&!b.value.enabled&&!a.teleport&&re.value.tabOutClosesMenu&&(T.value.contains(document.activeElement)||De()),S.value=u.shiftKey},ie=u=>{S.value=u.shiftKey},se=()=>{!a.disabled&&!a.readonly&&(g(Bn,a),q(!1),p.value=!0,p.value&&r("open"),p.value||et(),c(a.modelValue))},we=()=>{var u;U.value="",et(),(u=B.value)==null||u.setParsedDate(null),r("update:model-value",null),r("update:model-timezone-value",null),r("cleared"),re.value.closeOnClearValue&&De()},ae=()=>{const u=F.value;return!u||!Array.isArray(u)&&_(u)?!0:Array.isArray(u)?te.value.enabled||u.length===2&&_(u[0])&&_(u[1])?!0:ne.value.partialRange&&!a.timePicker?_(u[0]):!1:!1},fe=()=>{le()&&ae()?(v(),De()):r("invalid-select",F.value)},Se=u=>{ft(),v(),re.value.closeOnAutoApply&&!u&&De()},ft=()=>{B.value&&G.value.enabled&&B.value.setParsedDate(F.value)},Kt=(u=!1)=>{a.autoApply&&W(F.value)&&ae()&&(ne.value.enabled&&Array.isArray(F.value)?(ne.value.partialRange||F.value.length===2)&&Se(u):Se(u))},et=()=>{G.value.enabled||(F.value=null)},De=()=>{b.value.enabled||(p.value&&(p.value=!1,y.value=!1,P(!1),z(!1),Y(),r("closed"),U.value&&c(i.value)),et(),r("blur"))},tt=(u,M,x=!1)=>{if(!u){F.value=null;return}const oe=Array.isArray(u)?!u.some(Ce=>!_(Ce)):_(u),ce=W(u);oe&&ce&&(F.value=u,M&&(L.value=x,fe(),r("text-submit")))},Ht=()=>{a.autoApply&&W(F.value)&&v(),ft()},mt=()=>p.value?De():se(),Wt=u=>{F.value=u},Ut=()=>{G.value.enabled&&(w.value=!0,A()),r("focus")},jt=()=>{if(G.value.enabled&&(w.value=!1,c(a.modelValue),L.value)){const u=Yn(T.value,S.value);u==null||u.focus()}r("blur")},xt=u=>{k.value&&k.value.updateMonthYear(0,{month:nn(u.month),year:nn(u.year)})},qt=u=>{c(u??a.modelValue)},Qt=(u,M)=>{var x;(x=k.value)==null||x.switchView(u,M)},$n=u=>re.value.onClickOutside?re.value.onClickOutside(u):De();return Pr(E,B,()=>$n(ae)),n({closeMenu:De,selectDate:fe,clearValue:we,openMenu:se,onScroll:Z,formatInputValue:A,updateInternalModelValue:Wt,setMonthYear:xt,parseModel:qt,switchView:Qt,toggleMenu:mt}),(u,M)=>(e.openBlock(),e.createElementBlock("div",{ref_key:"pickerWrapperRef",ref:T,class:e.normalizeClass(d.value),"data-datepicker-instance":""},[e.createVNode(ba,e.mergeProps({ref_key:"inputRef",ref:B,"input-value":e.unref(U),"onUpdate:inputValue":M[0]||(M[0]=x=>e.isRef(U)?U.value=x:null),"is-menu-open":p.value},u.$props,{onClear:we,onOpen:se,onSetInputDate:tt,onSetEmptyDate:e.unref(v),onSelectDate:fe,onToggle:mt,onClose:De,onFocus:Ut,onBlur:jt,onRealBlur:M[1]||(M[1]=x=>w.value=!1)}),e.createSlots({_:2},[e.renderList(e.unref(O),(x,oe)=>({name:x,fn:e.withCtx(ce=>[e.renderSlot(u.$slots,x,e.normalizeProps(e.guardReactiveProps(ce)))])}))]),1040,["input-value","is-menu-open","onSetEmptyDate"]),(e.openBlock(),e.createBlock(e.resolveDynamicComponent(u.teleport?e.Teleport:"div"),e.normalizeProps(e.guardReactiveProps(l.value)),{default:e.withCtx(()=>[e.createVNode(e.Transition,{name:e.unref(R)(e.unref(f)),css:e.unref(H)&&!e.unref(b).enabled},{default:e.withCtx(()=>[p.value?(e.openBlock(),e.createElementBlock("div",e.mergeProps({key:0,ref_key:"dpWrapMenuRef",ref:E},$.value,{class:{"dp--menu-wrapper":!e.unref(b).enabled},style:e.unref(b).enabled?void 0:e.unref(C)}),[e.createVNode(Bn,e.mergeProps({ref_key:"dpMenuRef",ref:k},u.$props,{"internal-model-value":e.unref(F),"onUpdate:internalModelValue":M[2]||(M[2]=x=>e.isRef(F)?F.value=x:null),class:{[ee.value]:!0,"dp--menu-wrapper":u.teleport},"open-on-top":e.unref(f),"no-overlay-focus":X.value,collapse:K.value,"get-input-rect":Q,onClosePicker:De,onSelectDate:fe,onAutoApply:Kt,onTimeUpdate:Ht,onFlowStep:M[3]||(M[3]=x=>u.$emit("flow-step",x)),onUpdateMonthYear:M[4]||(M[4]=x=>u.$emit("update-month-year",x)),onInvalidSelect:M[5]||(M[5]=x=>u.$emit("invalid-select",e.unref(F))),onAutoApplyInvalid:M[6]||(M[6]=x=>u.$emit("invalid-select",x)),onInvalidFixedRange:M[7]||(M[7]=x=>u.$emit("invalid-fixed-range",x)),onRecalculatePosition:e.unref(q),onTooltipOpen:M[8]||(M[8]=x=>u.$emit("tooltip-open",x)),onTooltipClose:M[9]||(M[9]=x=>u.$emit("tooltip-close",x)),onTimePickerOpen:M[10]||(M[10]=x=>u.$emit("time-picker-open",x)),onTimePickerClose:M[11]||(M[11]=x=>u.$emit("time-picker-close",x)),onAmPmChange:M[12]||(M[12]=x=>u.$emit("am-pm-change",x)),onRangeStart:M[13]||(M[13]=x=>u.$emit("range-start",x)),onRangeEnd:M[14]||(M[14]=x=>u.$emit("range-end",x)),onDateUpdate:M[15]||(M[15]=x=>u.$emit("date-update",x)),onInvalidDate:M[16]||(M[16]=x=>u.$emit("invalid-date",x))}),e.createSlots({_:2},[e.renderList(e.unref(J),(x,oe)=>({name:x,fn:e.withCtx(ce=>[e.renderSlot(u.$slots,x,e.normalizeProps(e.guardReactiveProps({...ce})))])}))]),1040,["internal-model-value","class","open-on-top","no-overlay-focus","collapse","onRecalculatePosition"])],16)):e.createCommentVNode("",!0)]),_:3},8,["name","css"])]),_:3},16))],2))}}),Lt=(()=>{const t=Rr;return t.install=n=>{n.component("Vue3DatePicker",t)},t})();return Object.entries(Object.freeze(Object.defineProperty({__proto__:null,default:Lt},Symbol.toStringTag,{value:"Module"}))).forEach(([t,n])=>{t!=="default"&&(Lt[t]=n)}),Lt});
